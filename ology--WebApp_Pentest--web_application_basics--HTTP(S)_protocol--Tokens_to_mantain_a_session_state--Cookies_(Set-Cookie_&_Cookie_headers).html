<!doctype html>
<html>

<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>Cookies (Set-Cookie & Cookie headers)</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="res/styles3.css" type="text/css" />
</head>

<body>
  <div class='page'>
    <h1 class='title'>Cookies (Set-Cookie & Cookie headers)</h1><br /><strong>HTTP is a stateless protocol</strong> →
    This means that a <span style="text-decoration:underline;">website can&#39;t keep the state of a visit</span>
    through different HTTP requests without a mechanism such cookies and sessions variables<br /><strong>How are shared
      cookies</strong> → cookies are shared between the client&#39;s browser and the server using the <span
      style="text-decoration:underline;">HTTP Header</span><br /><strong>cookie jar</strong> → the storage space where a
    web browser stores the cookies<br /><br />A web server can set a cookie with the header field<strong>
      Set-Cookie</strong> and send it to the client that has made the request.<br />The <strong>Set-Cookie</strong>
    field has the following attribute:<br />• <strong>ID key</strong>→ value of the actual cookie content(e.g.: a=556;
    username=&quot;Daniele&quot;)<br />• <strong>Expires</strong> → Expiration date GMT of the cookie; if there is not a
    Expires attribute, the cookie will be deleted at the end of the http session<br />• <strong>Path</strong> → the
    browser when will make future requests will send the cookies only at the domain with the this directory(path) and
    its subfolder<br />• <strong>Domain</strong> → the browser when will make future requests will send the cookies only
    for the Domain set and its subdomain(e.g: example.com, <strong>.</strong>example.com).<br /> If the server does not
    specify the domain attribute, the browser will automatically set the domain attribute as <span
      style="color:#ff8700;text-decoration:underline;">host-only</span>, this means that the cookie will be sent only to
    the <span style="color:#ff8700;">precise hostname</span>(no at the subdomains) of the server#FF0000 that has sent
    the http response to the client.<br />• Optional flags(important for security purpose):<br /> ◇
    <strong>HttpOnly</strong> flag →tell the browser expose the cookie only through HTTP (and HTTPS) requests (no
    JavaScript, Flash, Java)<br /> ◇ <strong>Secure</strong> flag → tell the browser send the cookie only via
    secure/encrypted connections(like HTTPS)<br /><a href=""><img src="images/106-1.png"
        alt="images/106-1.png" /></a><br /><br /><span style="text-decoration:underline;">For every subsequent
      request</span>, the browser will considers: Domain, Path, Expiration, Flags<br />If all of them match, then the
    browser in the header of the request will insert the value of the <strong><span style="color:#ff0000;">ID
        key</span></strong> <br />If the Domain vaule in the Set-Cookie is not specified, the Id key will be accepted
    only by the domain that have set the cookie not its subdomains<br /><br /><a href=""><img src="images/106-2.png"
        alt="images/106-2.png" /></a><br /><br /><br /><br /><br />For more see: <a
      href="https://tools.ietf.org/html/rfc6265" target="_blank">https://tools.ietf.org/html/rfc6265</a><br /><br /><strong>Bibliography:</strong><br />•
    <a
      href="https://www.sans.org/blog/security-impact-of-http-caching-headers/" target="_blank">https://www.sans.org/blog/security-impact-of-http-caching-headers/</a>
  </div>
</body>

</html>