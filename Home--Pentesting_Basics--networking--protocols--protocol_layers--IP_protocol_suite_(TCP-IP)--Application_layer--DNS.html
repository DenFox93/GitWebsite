<!doctype html>
<html>

<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>DNS</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="res/styles3.css" type="text/css" />
</head>

<body>
  <div class='page'>
    <h1 class='title'>DNS</h1><br /><br />DNS discussed also in these chapters:<br />• <a
      href="Home--Pentesting_Basics--networking--protocols--protocol_layers--IP_protocol_suite_(TCP-IP)--Application_layer--DNS.html">TCP/IP
      → Application layer → DNS</a><br />• <a
      href="Home--Penetration_Test_Methodology--Network_Pentest--Scanning_and_Enumeration--DNS.html">Recoinnaisssance →
      DNS</a><br />• <a
      href="Home--Penetration_Test_Methodology--Network_Pentest--Sniffing-Spoofing-Poisoning--Active_Sniffing-Spoofing--DNS_Spoofing_(Router).html">Sniffing
      → DNS Spoofing (router)</a><br />• <a
      href="Home--Penetration_Test_Methodology--Network_Pentest--Vulnerability_assessment--Manual_Testing--DNS.html">Vulnerability
      Assessment → DNS</a><br />• <a
      href="Methodology--Network_Pentest--Sniffing-Spoofing-Poisoning--NetNTLM_attacks--Man-in-the-Middle_techniques_(ipv6)--NTLM_Relay_attack_(ipv6).html">Post
      Exploitation → MitM attack → NTLM relay attack → DNS Spoofing</a><br /><br />The <strong>D</strong>omain
    <strong>N</strong>ame <strong>S</strong>ystem (<strong>DNS</strong>) is an <span
      style="text-decoration:underline;">application layer protocol</span>, it provides name resolution to IP addresses
    and vice versa<br />A DNS name such as www.cs.example.edu can be broken in the following part:<br />• Top Level
    Domain(TLD)<br />• Domain part<br />• Subdomain part (not always)<br />• Host part<br /><br /><a href=""><img
        src="images/87-1.png" alt="images/87-1.png" /></a><br /><br />To convert a DNS name into an IP address, the
    operating system must contact a <strong>resolver server</strong>( example:CloudFlare 1.1.1.1, Google 8.8.8.8 or
    OpenDNS 208.67.222.222) to perform the DNS resolution. The resolver breaks down the DNS name in its parts and uses
    them to convert a DNS name into an IP address starting from the TLD:<br /> <br /> 1. OS query to the
    <strong>recursive resolver server</strong> to resolve the DNS name<br /> 2. System Administrators that manage a
    <span style="text-decoration:underline;">DNS recursive resolver server</span> typically need to configure a “root
    hints file”. This file contains the names and IP addresses of the <span
      style="text-decoration:underline;">Authoritative </span><strong><span
        style="text-decoration:underline;">Root</span></strong><span style="text-decoration:underline;"> Name
      Servers</span>(ARNs) that contain informations about the <strong><span
        style="text-decoration:underline;">TLD</span></strong><span style="text-decoration:underline;"> Authoritative
      Name Server</span>(.com, .edu, ..)<br /> List of Authoritative Root Server<br />
    <table class="table">
      <tr>
        <th>hostname</th>
        <th>ipv4, ipv6</th>
        <th>operator</th>
      </tr>
      <tr>
        <td>a.root-servers.net</td>
        <td>198.41.0.4, 2001:503:ba3e::2:30</td>
        <td>Verisign, Inc.</td>
      </tr>
      <tr>
        <td>b.root-servers.net</td>
        <td>199.9.14.201, 2001:500:200::b</td>
        <td>University of Southern California,
          Information Sciences Institute</td>
      </tr>
      <tr>
        <td>c.root-servers.net</td>
        <td>192.33.4.12, 2001:500:2::c</td>
        <td>Cogent Communications</td>
      </tr>
      <tr>
        <td>d.root-servers.net</td>
        <td>199.7.91.13, 2001:500:2d::d</td>
        <td>University of Maryland</td>
      </tr>
      <tr>
        <td>e.root-servers.net</td>
        <td>192.203.230.10, 2001:500:a8::e</td>
        <td>NASA (Ames Research Center)</td>
      </tr>
      <tr>
        <td>f.root-servers.net</td>
        <td>192.5.5.241, 2001:500:2f::f</td>
        <td>Internet Systems Consortium, Inc.</td>
      </tr>
      <tr>
        <td>g.root-servers.net</td>
        <td>192.112.36.4, 2001:500:12::d0d</td>
        <td>US Department of Defense (NIC)</td>
      </tr>
      <tr>
        <td>h.root-servers.net</td>
        <td>198.97.190.53, 2001:500:1::53</td>
        <td>US Army (Research Lab)</td>
      </tr>
      <tr>
        <td>i.root-servers.net</td>
        <td>192.36.148.17, 2001:7fe::53</td>
        <td>Netnod</td>
      </tr>
      <tr>
        <td>j.root-servers.net</td>
        <td>192.58.128.30, 2001:503:c27::2:30</td>
        <td>Verisign, Inc.</td>
      </tr>
      <tr>
        <td>k.root-servers.net</td>
        <td>193.0.14.129, 2001:7fd::1</td>
        <td>RIPE NCC</td>
      </tr>
      <tr>
        <td>l.root-servers.net</td>
        <td>199.7.83.42, 2001:500:9f::42</td>
        <td>ICANN</td>
      </tr>
      <tr>
        <td>m.root-servers.net</td>
        <td>202.12.27.33, 2001:dc3::35</td>
        <td>WIDE Project</td>
      </tr>
    </table><br /> 4. the resolver server contact the <span style="text-decoration:underline;">TLD Authoritative Name
      Sever</span>(.com, .edu, ..) that contain informations about the <strong><span
        style="text-decoration:underline;">Domain</span></strong><span style="text-decoration:underline;"> Authoritative
      Name Server</span><br /> 5. the resolver asks to the <span style="text-decoration:underline;">domain Authoritative
      Name Server</span> for the <strong>Sub Domain(s)</strong><br /> 6. the resolver asks to the <span
      style="text-decoration:underline;">subdomain Authoritative Name Server</span> for the
    <strong>Host</strong><br /><br /><a href=""><img src="images/87-2.png" alt="images/87-2.png" /></a><br /><br /><a
      href=""><img src="images/87-3.png" alt="images/87-3.png" /></a><br /><br /> A → a host address<br /> MX →
    identifies a mail exchange for the domain<br /> NS → the authoritative name server for the domain, a name server
    that can resolve the hostname is the authoritative name server for that domain<br /> <br />image source:
    tcpipguide.com<br /> <br />Bibliography:<br /><a
      href="https://www.iana.org/domains/root/servers" target="_blank">https://www.iana.org/domains/root/servers</a><br />
  </div>
</body>

</html>