<!doctype html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>How Tx.Origin and Msg.sender work (example)</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="res/styles3.css" type="text/css" />
</head>
<body>
<div class='page'><h1 class='title'>How Tx.Origin and Msg.sender work (example)</h1><br/><br />For this example to call the functions we will use Account User with address: 0x4B20993Bc481177ec7E8f571ceCaE8A9e22C02db<br /><br /><strong>HelloWorldTXOrigin</strong>(0x652c9ACcC53e765e1d96e2455E618dAaB79bA595)<br />   ◇ Deploy the HelloWorldTXOrigin contract first and copy its address value(example: 0x652c9ACcC53e765e1d96e2455E618dAaB79bA595)<br />      <a href=""><img src="images/1426-1.png" alt="images/1426-1.png" /></a><br /><div class="codebox"><div class="codebox">pragma&nbsp;solidity&nbsp;^0.6.6;<br /><br />contract&nbsp;HelloWorldTXOrigin&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;return_TX_Address()&nbsp;public&nbsp;returns(address){<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;address&nbsp;myaddress&nbsp;=&nbsp;tx.origin;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;myaddress;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;return_MSG_Address()&nbsp;public&nbsp;returns(address){<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;address&nbsp;myaddress&nbsp;=&nbsp;msg.sender;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;myaddress;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /></div></div><br /><br /><strong>Call_Hello</strong>(0x417Bf7C9dc415FEEb693B6FE313d1186C692600F)<br />   ◇ Place the address value of <strong>HelloWorldTXOrigin</strong> inside targetInterface function<br /><div class="codebox"><div class="codebox">pragma&nbsp;solidity&nbsp;^0.6.6;<br /><br /><br />interface&nbsp;targetInterface&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;return_TX_Address()&nbsp;external&nbsp;returns(address);&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;return_MSG_Address()&nbsp;external&nbsp;returns(address);<br />}<br /><br />contract&nbsp;Call_Hello&nbsp;<span style="color:#000000;font-weight:400">{</span><br />&nbsp;&nbsp;&nbsp;&nbsp;targetInterface&nbsp;helloInterface&nbsp;=&nbsp;targetInterface(0x652c9ACcC53e765e1d96e2455E618dAaB79bA595);<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;myTX&nbsp;()&nbsp;&nbsp;public&nbsp;returns&nbsp;(address){<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;helloInterface.return_TX_Address();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&lt;---<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;myMSG&nbsp;()&nbsp;&nbsp;public&nbsp;returns&nbsp;(address){<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;helloInterface.return_MSG_Address();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&lt;---<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><span style="color:#000000;font-weight:400">}</span></div></div><br />    <a href=""><img src="images/1426-2.png" alt="images/1426-2.png" /></a><br />    MyMSG → output: 0x417Bf7C9dc415FEEb693B6FE313d1186C692600F → return the address of <strong>Call_Hello</strong>, even though the user have called the function<br />    MyTX → output:  0x4B20993Bc481177ec7E8f571ceCaE8A9e22C02db → address of the user that initially have called the function of <strong>Call_Hello</strong><br />    <br /><br /></div>
</body>
</html>
