<!doctype html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>Exceptions</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="res/styles3.css" type="text/css" />
</head>
<body>
<div class='page'><h1 class='title'>Exceptions</h1><br/><br />When an error occur, Ruby raises an exception. Normally when an exception is raised, the program terminates its execution.<br />Ruby, like almost all OO languages, allows us to handle the error and execute some arbitrary code<br />Exception in Ruby are object instances of the Exception class (or one of its subclasses)<br /><a href=""><img src="images/1793-1.png" alt="images/1793-1.png" /></a><br /><br /><br /><strong>rescue</strong><br />If we want to handle an exception and execute some arbitrary code when it happens, you can use rescue.<br /><div class="codebox"><div class="codebox">def&nbsp;fact(n)<br />	return&nbsp;1&nbsp;if&nbsp;n==0<br />	return&nbsp;1&nbsp;if&nbsp;n==1<br />	n*fact(n-1)<br />end<br /><br />begin<br />	a=fact(ARGV[0].to_i)<br />	p&nbsp;a<br />rescue<br />	p&nbsp;$!.message<br />end</div></div><br />    p() is a Kernel method. It writes obj.inspect to the standard output.<br />    In Ruby, $! refers the last Exception object.<br />    <a href=""><img src="images/1793-2.png" alt="images/1793-2.png" /></a><br /><br /><strong>retry</strong><br />Retry is a clause that can be used inside a rescue clause to re-execute the block of code that has caused the exception<br /><span style="text-decoration:underline;">Attention</span>: with retry, you might introduce an infinite loop of retry block execution. <br /><span style="color:#a5452a;">example:</span><br />When b is 0, a ZeroDivisionError occurs. Rescue captures it, changes b to 1 and then retry the begin block.<br /><div class="codebox"><div class="codebox">a=ARGV[0].to_i<br />b=ARGV[1].to_i<br /><br />begin<br />&nbsp;print&nbsp;&quot;#{a}&nbsp;/&nbsp;#{b}&nbsp;=&nbsp;&quot;<br />&nbsp;print&nbsp;a/b,&nbsp;&quot;\n&quot;<br />rescue<br />&nbsp;print&nbsp;&quot;Error\n&quot;<br />&nbsp;b=1<br />&nbsp;retry<br />end</div></div><br />    <a href=""><img src="images/1793-3.png" alt="images/1793-3.png" /></a><br /><br /></div>
</body>
</html>
