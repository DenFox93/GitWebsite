<!doctype html>
<html>

<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>AngularJS ng-app directive</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="res/styles3.css" type="text/css" />
</head>

<body>
  <div class='page'>
    <h1 class='title'>AngularJS ng-app directive</h1><br /><strong>Prereqisites:</strong><br />• Use of AngularJS in the
    Web page<br /> <a href=""><img src="images/1681-1.png" alt="images/1681-1.png" /></a><br /><br /><strong>When
      useful:</strong><br />• when angle brackets are being encoded, this technique in fact does not make use of
    it<br /><br /><br /><strong>AngularJS</strong><br />AngularJS is a <span
      style="text-decoration:underline;">JavaScript framework</span> that extends HTML with ng-directives.<br />It can
    be added to an HTML page with the following &lt;script&gt; tag.<br /> <a href=""><img src="images/1681-2.png"
        alt="images/1681-2.png" /></a><br />Angular templates (defined by the <span style="color:#00dbff;">ng-app</span>
    directive) use double curly braces &quot;{{........}}&quot; to denote expressions that are evaluated by the Angular
    rendering engine. If an attacker can inject curly braces into the template, they can easily enter the code execution
    context.<br />For example, the expression 1+2={{1+2}} will render as 1+2=3.<br />This means that if the server echos
    out user input that contains double curly braces, the user can perform a XSS exploit using Angular
    expressions.<br /><br /><br /><br /><br /><strong><span style="color:#a5452a;">Example:</span></strong><br />1. Test
    an alphanumeric input<br />2. Inspect the source of the webpage<br /> <a href=""><img src="images/1681-3.png"
        alt="images/1681-3.png" /></a><br /> From here we can see that the input is inclode inside an
    <strong>ng-app</strong> directive<br /> <span style="color:#00dbff;">ng-app</span> directive tells AngularJS that
    the &lt;div&gt; element is the &quot;owner&quot; of an AngularJS application.<br />4. Test with an expression within
    double curly bracket like this one: <span style="color:#ff8700;">1+2={{1+2}}</span><br /> <a href=""><img
        src="images/1681-4.png" alt="images/1681-4.png" /></a><br /> we can see that is been rendered<br />5. Test with
    a payload like this one: <span style="color:#ff8700;">{{$on.constructor(&#39;alert(1)&#39;)()}}</span><br /> <a
      href=""><img src="images/1681-5.png" alt="images/1681-5.png" /></a><br /> <br /><br />Bibliography:<br />• <a
      href="https://www.w3schools.com/angular/angular_intro.asp" target="_blank">https://www.w3schools.com/angular/angular_intro.asp</a><br />•
    <a
      href="https://portswigger.net/web-security/cross-site-scripting/dom-based/lab-angularjs-expression" target="_blank">https://portswigger.net/web-security/cross-site-scripting/dom-based/lab-angularjs-expression</a><br />•
    <a
      href="https://spring.io/blog/2016/01/28/angularjs-escaping-the-expression-sandbox-for-xss" target="_blank">https://spring.io/blog/2016/01/28/angularjs-escaping-the-expression-sandbox-for-xss</a><br />•
    <a
      href="https://www.synopsys.com/blogs/software-security/preventing-common-angularjs-vulnerabilities/" target="_blank">https://www.synopsys.com/blogs/software-security/preventing-common-angularjs-vulnerabilities/</a>
  </div>
</body>

</html>