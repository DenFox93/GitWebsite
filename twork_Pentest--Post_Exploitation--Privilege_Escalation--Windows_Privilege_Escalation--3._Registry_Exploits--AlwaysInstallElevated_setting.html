<!doctype html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>AlwaysInstallElevated setting</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="res/styles3.css" type="text/css" />
</head>
<body>
<div class='page'><h1 class='title'>AlwaysInstallElevated setting</h1><br/><br />• AlwaysInstallElevated is a Windows setting that allows non-privileged users to install Microsoft Windows Installer Package Files(MSI) with elevated system permissions.<br /><br />• MSI files are package files used to install applications. <br />• These files run with the permissions of the user trying to install them. <br />• Windows allows for these installers to be run with elevated (i.e. admin) privileges.<br />   ◇ If this is the case, we can generate a malicious MSI file which contains a reverse shell.<br /><br />• The catch is that two Registry settings must be enabled for this to work. <br />    The “AlwaysInstallElevated” value must be set to 1 for both:<br />   ◇ the local machine: HKLM\SOFTWARE\Policies\Microsoft\Windows\Installer<br />   ◇ the current user: HKCU\SOFTWARE\Policies\Microsoft\Windows\Installer<br />   If either of these are missing or disabled, the exploit will not work.</div>
</body>
</html>
