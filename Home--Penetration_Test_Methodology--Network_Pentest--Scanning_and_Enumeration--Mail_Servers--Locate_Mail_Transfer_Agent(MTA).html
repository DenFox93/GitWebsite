<!doctype html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>Locate Mail Transfer Agent(MTA)</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="res/styles3.css" type="text/css" />
</head>
<body>
<div class='page'><h1 class='title'>Locate Mail Transfer Agent(MTA)</h1><br/><br /><br /><span style="text-decoration:underline;">Locate target&#39;s MTAs using DNS (MX records)</span><br /> When a user sends an email, the Message transfer agent (MTA) from the sender side send a DNS query for MX records of the domain.<br /> The response in the MX record contain one or more Message transfer agents (MTA) of the receiving side responsible for the domain.<br /> <a href=""><img src="images/1044-1.png" alt="images/1044-1.png" /></a><br />The MTAs in a MX records have a priority. A connection will first be made to the MTA with the lowest number of <span style="color:#0000ff;">priority</span>. If this fails, the next server will be tried.<br /><br />Email should be handled by more than one server(like the example above), because in the event that a system is unavailable, emails will not be delivered to the target company.<br />A single mail server introduces a single point of failure. It could become a target for an attacker that want perform a denial-of-service(DOS) attack   <br /><div class="codebox"><div class="codebox">dig&nbsp;-t&nbsp;MX&nbsp;google.com</div></div><br />    <a href=""><img src="images/1044-2.png" alt="images/1044-2.png" /></a><br /><br />Alternatively a domain configured can use a round-robin DNS: single MX record(single server) but  multiple A records.<br /><div class="codebox"><div class="codebox">dig&nbsp;-t&nbsp;MX&nbsp;hotmail.it&nbsp;+short<br />dig&nbsp;-t&nbsp;A&nbsp;eur.olc.protection.outlook.com&nbsp;+short</div></div><br />    <a href=""><img src="images/1044-3.png" alt="images/1044-3.png" /></a><br /></div>
</body>
</html>
