<!doctype html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>Tools (route, traceroute, ping ...)</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="res/styles3.css" type="text/css" />
</head>
<body>
<div class='page'><h1 class='title'>Tools (route, traceroute, ping ...)</h1><br/><br /><strong>IP</strong><br /><div class="codebox"><div class="codebox">ifconfig&nbsp;-a&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#Linux<br />ip&nbsp;a&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#Linux<br />ipconfig&nbsp;/all&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#Windows<br />ipconfig&nbsp;/displaydns&nbsp;&nbsp;#Windows</div></div><br />   ◇ DNS server<br />   when a host is set to use DNS server, generally all the applications can query it<br />   <div class="codebox"><div class="codebox">cat&nbsp;/etc/resolv.conf&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#Linux</div></div><br /><br /><strong>Route table</strong><br />determine which Destination IP addresses appear public. Determine than why the host need a coonnction with a public IP<br /><div class="codebox"><div class="codebox">route&nbsp;-vn&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#Linux<br />netstat&nbsp;-rn&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#Linux<br />route&nbsp;print&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#Windows</div></div><br />    <a href=""><img src="images/960-1.png" alt="images/960-1.png" /></a><br /><br /><strong>How many hops are between our compromised machine, and other network segments</strong><br /><div class="codebox"><div class="codebox">arracker@linux:/#&nbsp;traceroute&nbsp;–n&nbsp;<span style="color:#000000;font-weight:400">&lt;</span>ip&nbsp;address<span style="color:#000000;font-weight:400">&gt;</span></div></div><br />    <a href=""><img src="images/960-2.png" alt="images/960-2.png" /></a><br />    in this case only one (we are in the same network)<br />     <br /><strong>Ping Sweep</strong><br /><a href="--Penetration_Test_Methodology--Network_Pentest--Scanning_and_Enumeration--Network_Sweeping(Host_discovery)_[-P]--nmap---PE--PP_ICMP_ping.html">In the chapter of nmap is explained well</a>. Substantially is like if we make a <span style="text-decoration:underline;">ping</span> to all the hosts of the network<br /><div class="codebox"><div class="codebox">msf&gt;&nbsp;use&nbsp;post/multi/gather/ping_sweep&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#we&nbsp;need&nbsp;a&nbsp;meterpreter&nbsp;session<br />C:\&gt;&nbsp;for&nbsp;/l&nbsp;%i&nbsp;in&nbsp;(1,1,254)&nbsp;do&nbsp;@ping&nbsp;192.168.43.%i&nbsp;-w&nbsp;10&nbsp;-n&nbsp;1&nbsp;|&nbsp;find&nbsp;&quot;Reply&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#change&nbsp;192.168.1.<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#with&nbsp;your&nbsp;subnet<br />root@debian:/#&nbsp;for&nbsp;i&nbsp;in&nbsp;{1..254}&nbsp;;do&nbsp;(ping&nbsp;192.168.1.$i&nbsp;-c&nbsp;1&nbsp;-w&nbsp;5&nbsp;&nbsp;&gt;/dev/null&nbsp;&amp;&amp;&nbsp;echo&nbsp;&quot;192.168.1.$i&quot;&nbsp;&amp;)&nbsp;;done&nbsp;&nbsp;#change&nbsp;192.168.1.<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#with&nbsp;your&nbsp;subnet<br /></div></div><br /><br /><br /><strong>Port Scanning</strong><br />   ◇ Linux<br />   <div class="codebox"><div class="codebox">for&nbsp;i&nbsp;in&nbsp;{1..65535};&nbsp;do&nbsp;(echo&nbsp;&gt;&nbsp;/dev/tcp/192.168.1.1/$i)&nbsp;&gt;/dev/null&nbsp;2&gt;&amp;1&nbsp;&amp;&amp;&nbsp;echo&nbsp;$i&nbsp;is&nbsp;open;&nbsp;done</div></div><br />   This can take very long time, better specify specific ports<br />   <div class="codebox"><div class="codebox">for&nbsp;i&nbsp;in&nbsp;{21,22,53,80,135,137,445};&nbsp;do&nbsp;(echo&nbsp;&gt;&nbsp;/dev/tcp/192.168.1.1/$i)&nbsp;&gt;/dev/null&nbsp;2&gt;&amp;1&nbsp;&amp;&amp;&nbsp;echo&nbsp;$i&nbsp;is&nbsp;open;&nbsp;done</div></div></div>
</body>
</html>
