<!doctype html>
<html>

<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>Same Origin Policy(SOP)</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="res/styles3.css" type="text/css" />
</head>

<body>
  <div class='page'>
    <h1 class='title'>Same Origin Policy(SOP)</h1><br /><br /><span style="text-decoration:underline;">The same-origin
      policy is a critical security mechanism </span><strong><span style="text-decoration:underline;">of
        Browsers</span></strong> that restricts how a document(HTML page[*.html] or a response to Ajax request [xhr])
    loaded by one origin can interact with a resource from another origin. It helps isolate potentially malicious
    documents, reducing possible attack vectors.<br />Images(*.png,...), style information (*.css) and JavaScript
    files<br />(*.js) are not document and are excluded from the previous statement; they are always accessible
    regardless their origin, and the browser loads them without consulting SOP.<br /><br />The browser let Javascript
    access to a resource if <strong><span style="color:#ff0000;">protocol</span></strong>, <strong><span
        style="color:#0000ff;">host</span></strong> and <strong><span style="color:#00ff00;">port</span></strong>
    match<br /><a href="file://C:/CherryTree/screenshot/HTTPS/same origin policy.png"><img src="images/108-1.png"
        alt="images/108-1.png" /></a><br /><br /><br /><strong><span
        style="color:#a5452a;">example:</span></strong><strong> </strong>URL:<strong>
      http://www.example.org/dir/page.html </strong> (by default http use port TCP/80, if was HTTPS we should have
    expected TCP/443)<br />
    <table class="table">
      <tr>
        <th>URL controllato</th>
        <th>Risultato</th>
        <th>reason</th>
      </tr>
      <tr>
        <td>http://www.example.org/dir/page.html</td>
        <td>yes</td>
        <td>Same protocol, host and port</td>
      </tr>
      <tr>
        <td>http://www.example.org/dir2/other.html</td>
        <td>yes</td>
        <td>Same protocol, host and port</td>
      </tr>
      <tr>
        <td>http://www.example.org:81/dir/other.html</td>
        <td>no</td>
        <td>Same protocol and host but different port</td>
      </tr>
      <tr>
        <td>https://www.example.org/dir/other.html</td>
        <td>no</td>
        <td>Different protocol</td>
      </tr>
      <tr>
        <td>http://en.example.org/dir/other.html</td>
        <td>no</td>
        <td>Different host (different subdomain en)</td>
      </tr>
      <tr>
        <td>http://example.org/dir/other.html</td>
        <td>no</td>
        <td>Different host (subdomain www required)</td>
      </tr>
      <tr>
        <td>http://v2.www.example.org/dir/other.html</td>
        <td>no</td>
        <td>Different host (diffeent subdomain v2)</td>
      </tr>
      <tr>
        <td>http://www.example.org:80/dir/other.html</td>
        <td>depend</td>
        <td>Port explicit. Depends on implementation in browser</td>
      </tr>
    </table><br /><br /><strong>Same-Origin Policy(SOP)</strong> applies only to the actual <span
      style="color:#ff8700;">JavaScript</span> of the webpage. SOP does not permit to a <span
      style="color:#ff8700;">script </span>to access data in an another webpage if this one does not have the same <span
      style="color:#ff0000;">protocol</span>, <span style="color:#0000ff;">host</span> and <span
      style="color:#ff8700;">port</span><br />Same-Origin Policy does not apply to <strong><span
        style="color:#1e90ff;">HTML tags</span></strong> that link to external resources of images, CSS, and
    dynamically-loaded scripts.<br /> An example of attack that take advantage of that is the <span
      style="text-decoration:underline;">Cross Site Request Forgery</span>(called aldo CSRF, <span
      style="text-decoration:underline;">XSRF</span>, <span style="text-decoration:underline;">Sea-Surf</span>)
    <br /><br /><strong><span style="color:#1e90ff;">HTML tags:</span></strong><br /><strong>Javascript</strong> →
    JavaScript code must be inserted between &lt;script&gt; and &lt;/script&gt; tags, scripts can be placed in the
    &lt;body&gt; or in the &lt;head&gt; section of an HTML page, or in both<br /><strong>Image</strong> → to link an
    image, use the &lt;img&gt; tag(that has no end tag)inside &lt;a&gt;....&lt;/a&gt; tags<br /> (e.g.: &lt;img
    src=&quot;hello.png&quot; alt=&quot;hi&quot; width=&quot;40&quot; height=&quot;40&quot;&gt;)<br /><strong>CSS
      external</strong> → add a link to it in the &lt;head&gt; section of the HTML page<br /> ( e.g.: &lt;link
    rel=&quot;testCSS&quot; href=&quot;test1.css&quot;&gt;)<br /><strong>dynamically loaded scripts</strong> → to load
    dynamically a .js file we can insert it in a &lt;script&gt; tag in the &lt;head&gt; section of the HTML page<br />
    (e.g.: &lt;script type=&quot;text/javascript&quot;
    src=&quot;script.js&quot;&gt;&lt;/script&gt;)<br /><strong>document</strong> → to link a document, use the
    &lt;iframe&gt; tag <br /> (e.g.: &lt;iframe
    src=&quot;http://www.example.com&quot;&gt;&lt;/iframe&gt;)<br /><strong>object</strong> → to embed object(like
    audio, video, Java applets, ActiveX, PDF, Flash and also another webpage) within an HTML document use the
    &lt;object&gt; tag <br /> (e.g.: &lt;object width=&quot;200&quot; height=&quot;200&quot;
    data=&quot;hello.pdf&quot;&gt;&lt;/object&gt;)<br /><br />.....<br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br />Bibliography:<br />image
    1: <a href="https://o7planning.org/" target="_blank">https://o7planning.org/</a><br /><a
      href="https://en.wikipedia.org/wiki/Same-origin_policy" target="_blank">https://en.wikipedia.org/wiki/Same-origin_policy</a><br /><br />
  </div>
</body>

</html>