<!doctype html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>9. Keccak256 and Typecasting</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="res/styles3.css" type="text/css" />
</head>
<body>
<div class='page'><h1 class='title'>9. Keccak256 and Typecasting</h1><br/><br /><strong>keccak256: function to return a (semi) random uint</strong><br />Ethereum has the hash function <code>keccak256</code> built in, which is a version of SHA3. A hash function basically maps an input into a 256-bit hexadecimal number. A slight change in the input will cause a large change in the hash.<br />It&#39;s useful for many purposes in Ethereum, but for right now we&#39;re just going to use it for pseudo-random number generation.<br /><span style="color:#ff0000;">IMPORTANT</span>: keccak256 expects a single parameter of type bytes. This means that we have to &quot;pack&quot; any parameters before calling keccak256<br /><br /><div class="codebox"><div class="codebox">//6e91ec6b618bb462a4a6ee5aa2cb0e9cf30f7a052bb467b0ba58b8748c00d2e5<br />keccak256(abi.encodePacked(&quot;aaaab&quot;));<br />//b1f078126895a1424524de5321b339ab00408010b7cf0e6ed451514981e58aa9<br />keccak256(abi.encodePacked(&quot;aaaac&quot;));</div></div><br /><br /><br /><strong><h3>Typecasting</h3></strong><br />Sometimes you need to convert between data types. Take the following example:<br /><div class="codebox"><div class="codebox">uint8&nbsp;a&nbsp;=&nbsp;5;<br />uint&nbsp;b&nbsp;=&nbsp;6;<br />//&nbsp;throws&nbsp;an&nbsp;error&nbsp;because&nbsp;a&nbsp;*&nbsp;b&nbsp;returns&nbsp;a&nbsp;uint,&nbsp;not&nbsp;uint8:<br />uint8&nbsp;c&nbsp;=&nbsp;a&nbsp;*&nbsp;b;<br />//&nbsp;we&nbsp;have&nbsp;to&nbsp;typecast&nbsp;b&nbsp;as&nbsp;a&nbsp;uint8&nbsp;to&nbsp;make&nbsp;it&nbsp;work:<br />uint8&nbsp;c&nbsp;=&nbsp;a&nbsp;*&nbsp;uint8(b);</div></div><em><code><br /></code></em><em>In the above, </em><em><code>a * b</code></em><em> returns a </em><em><code>uint</code></em><em>, but we were trying to store it as a </em><em><code>uint8</code></em><em>, which could cause potential problems. By casting it as a </em><em><code>uint8</code></em><em>, it works and the compiler won&#39;t throw an error.<br /></em></div>
</body>
</html>
