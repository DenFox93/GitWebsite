<!doctype html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>Asynchronous JavaScript and XML (AJAX)</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="res/styles3.css" type="text/css" />
</head>
<body>
<div class='page'><h1 class='title'>Asynchronous JavaScript and XML (AJAX)</h1><br/><br />AJAX is the technology used to enable asynchronous communication between your browser and the web server<br /><br />• <span style="text-decoration:underline;">In old-style websites</span>, when you click a link, the client has to send a request all the way up the server; the server processes the request and then replies. When the browser gets the entire reply, it redraws the entire screen. <br />• <span style="text-decoration:underline;">AJAX</span> is the technology that enable Web 2.0. <br />    JavaScript creates XMLHttpRequest objects. Those objects can make requests and receive responses asynchronously, updating the display as responses are received. <br />    In other words AJAX uses JavaScript and XML to provide dynamic application functions, allowing the application to refresh portions of the  page.<br />    <span style="color:#a5452a;">example: Google Maps </span><br />    It shows satellite images. It also includes road information with traffic data overlaid. AJAX allows for it to use interactive features while updating only the changed sections<br /><br /><strong>JavaScript XMLHttpRequest object</strong><br />The JavaScript XMLHttpRequest object is the heart of AJAX. It allows a JavaScript to make requests for data in the background. Providing more interactivity to the web page<br />How create XMLHttpRequest object: <br />    <div class="codebox"><div class="codebox">xmlhttp&nbsp;=&nbsp;new&nbsp;XMLHttpRequest<span style="color:#000000;font-weight:400">()</span></div></div><br /><span style="text-decoration:underline;">Main methods and properties:</span><br />   ◇ Set the request method, by specifing the properties of the request. It does not actually initiate a connection.<br />       <div class="codebox"><div class="codebox">xmlhttp.open<span style="color:#000000;font-weight:400">(</span>&quot;GET&quot;,&nbsp;&quot;http://www.example.com/index.php&quot;<span style="color:#000000;font-weight:400">)</span></div></div><br />   ◇ Send the request<br />       <div class="codebox"><div class="codebox">xmlhttp.send<span style="color:#000000;font-weight:400">()</span></div></div><br />   ◇ Set which function should be called when the ready state changes. A response being received is an example of a ready state change<br />       <div class="codebox"><div class="codebox">xmlhttp.onreadystatechange&nbsp;=&nbsp;<span style="color:#000000;font-weight:400">[</span>CUSTOM-FUNCTION<span style="color:#000000;font-weight:400">]</span></div></div><br />   ◇ Property that enables the scripting code to determine what state a response from the server is in<br />       <div class="codebox"><div class="codebox">xmlhttp.readyState</div></div><br />        The readyState has five possible values:<br />      ▪ 0 →  The request is uninitialized<br />      ▪ 1 →  The request has been set up<br />      ▪ 2 →  The request has been sent<br />      ▪ 3 →  Waiting for a response<br />      ▪ 4 →  The response is complete<br />   ◇ Property that contains the contents of any response from the server<br />       <div class="codebox"><div class="codebox">xmlhttp.responseText</div></div><br /><br /><span style="color:#a5452a;">Example XMLHttpRequest :</span><br /><div class="codebox"><div class="codebox">&lt;html&gt;&lt;body&gt;<br />&lt;button&nbsp;type=&quot;button&quot;&nbsp;onclick=&quot;theAnswer()&quot;&gt;The&nbsp;Answer&lt;/button&gt;<br />&lt;p&nbsp;id=&quot;answer&quot;&gt;&lt;/p&gt;<br />&lt;script&gt;<br />function&nbsp;theAnswer()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;xhr&nbsp;=&nbsp;new&nbsp;XMLHttpRequest();<br />&nbsp;&nbsp;&nbsp;&nbsp;xhr.onreadystatechange&nbsp;=&nbsp;function()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(xhr.readyState&nbsp;==&nbsp;4&nbsp;&amp;&amp;&nbsp;xhr.status&nbsp;==&nbsp;200)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;document.getElementById(&quot;answer&quot;).innerHTML&nbsp;=&nbsp;xhr.responseText;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&lt;!--&nbsp;xhr.open()&nbsp;builds&nbsp;the&nbsp;request&nbsp;as&nbsp;a&nbsp;GET,&nbsp;with&nbsp;the&nbsp;specified&nbsp;resource&nbsp;and&nbsp;parameters,&nbsp;and&nbsp;sets&nbsp;the&nbsp;request&nbsp;to&nbsp;be&nbsp;asynchronous&nbsp;(true)&nbsp;--&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;xhr.open(&quot;GET&quot;,&nbsp;&quot;hhgttg.php?q=multiply6by9&quot;,&nbsp;true);<br />&nbsp;&nbsp;&nbsp;&nbsp;&lt;!--&nbsp;xhr.send()&nbsp;causes&nbsp;the&nbsp;request&nbsp;to&nbsp;be&nbsp;sent,&nbsp;after&nbsp;which&nbsp;the&nbsp;onreadystatechange&nbsp;function&nbsp;takes&nbsp;over,&nbsp;waiting&nbsp;for&nbsp;a&nbsp;response&nbsp;to&nbsp;come&nbsp;back&nbsp;--&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;xhr.send(&quot;&quot;);<br />}<br />&lt;/script&gt;&lt;/body&gt;<span style="color:#000000;font-weight:400">&lt;</span>/html<span style="color:#000000;font-weight:400">&gt;</span></div></div><br /></div>
</body>
</html>
