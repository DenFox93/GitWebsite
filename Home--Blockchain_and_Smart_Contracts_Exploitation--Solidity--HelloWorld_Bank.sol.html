<!doctype html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>HelloWorld_Bank.sol</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="res/styles3.css" type="text/css" />
</head>
<body>
<div class='page'><h1 class='title'>HelloWorld_Bank.sol</h1><br/>HelloWorld_Bank.sol → <a href="https://github.com/cclabsInc/BlockChainExploitation/blob/master/2020_BlockchainFreeCourse/HelloWorld_Bank.sol" target="_blank">https://github.com/cclabsInc/BlockChainExploitation/blob/master/2020_BlockchainFreeCourse/HelloWorld_Bank.sol</a><br /><div class="codebox"><div class="codebox">pragma&nbsp;solidity&nbsp;0.6.6;&nbsp;<br /><br />//creation&nbsp;of&nbsp;the&nbsp;contract<br />contract&nbsp;HelloWorld_Bank<span style="color:#000000;font-weight:400">{</span><br />&nbsp;&nbsp;&nbsp;&nbsp;//owner&nbsp;will&nbsp;be&nbsp;the&nbsp;contracts&nbsp;administrator&nbsp;which&nbsp;is&nbsp;not&nbsp;explicitly&nbsp;defined&nbsp;here,<br />&nbsp;&nbsp;&nbsp;&nbsp;//but&nbsp;instead&nbsp;defined&nbsp;in&nbsp;the&nbsp;next&nbsp;chunk&nbsp;of&nbsp;code&nbsp;in&nbsp;the&nbsp;constructor<br />&nbsp;&nbsp;&nbsp;&nbsp;address&nbsp;public&nbsp;owner;<br />&nbsp;&nbsp;&nbsp;&nbsp;//Mappings&nbsp;are&nbsp;similar&nbsp;to&nbsp;a&nbsp;dictionary&nbsp;lookup.&nbsp;It&nbsp;is&nbsp;a&nbsp;key&nbsp;value&nbsp;pair&nbsp;where&nbsp;in&nbsp;this&nbsp;case&nbsp;the&nbsp;address&nbsp;is&nbsp;mapped&nbsp;to&nbsp;a&nbsp;uint&nbsp;value.<br />&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;&nbsp;The&nbsp;key&nbsp;is&nbsp;the&nbsp;address&nbsp;of&nbsp;the&nbsp;user,&nbsp;while&nbsp;the&nbsp;value&nbsp;is&nbsp;the&nbsp;users&nbsp;balance&nbsp;within&nbsp;the&nbsp;contract.<br />&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;&nbsp;So,&nbsp;if&nbsp;you&nbsp;were&nbsp;to&nbsp;perform&nbsp;a&nbsp;dictionary&nbsp;lookup&nbsp;of&nbsp;a&nbsp;user’s&nbsp;address&nbsp;you&nbsp;would&nbsp;be&nbsp;provided&nbsp;back&nbsp;their&nbsp;bank&nbsp;balance.<br />&nbsp;&nbsp;&nbsp;&nbsp;//You&nbsp;will&nbsp;also&nbsp;note&nbsp;that&nbsp;this&nbsp;is&nbsp;a&nbsp;private&nbsp;variable&nbsp;meaning&nbsp;that&nbsp;you&nbsp;cannot&nbsp;retrieve&nbsp;this&nbsp;value&nbsp;directly&nbsp;outside&nbsp;of&nbsp;the&nbsp;contract<br />&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;&nbsp;by&nbsp;referencing&nbsp;it.&nbsp;However,&nbsp;private&nbsp;variables&nbsp;as&nbsp;we&nbsp;will&nbsp;in&nbsp;later&nbsp;chapters&nbsp;are&nbsp;not&nbsp;as&nbsp;private&nbsp;as&nbsp;we&nbsp;think&nbsp;on&nbsp;the&nbsp;blockchain<br />&nbsp;&nbsp;&nbsp;&nbsp;//In&nbsp;this&nbsp;case&nbsp;case&nbsp;we&nbsp;are&nbsp;mapping&nbsp;an&nbsp;address&nbsp;of&nbsp;someone&nbsp;that&nbsp;interacting&nbsp;with&nbsp;the&nbsp;blockchain&nbsp;to&nbsp;a&nbsp;uint&nbsp;value(balance)<br />&nbsp;&nbsp;&nbsp;&nbsp;mapping&nbsp;(address&nbsp;=&gt;&nbsp;uint)&nbsp;private&nbsp;balances;<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;//The&nbsp;constructor&nbsp;runs&nbsp;one&nbsp;time&nbsp;when&nbsp;the&nbsp;contract&nbsp;is&nbsp;deployed&nbsp;and&nbsp;will&nbsp;set&nbsp;things&nbsp;up&nbsp;for&nbsp;the&nbsp;contract.<br />&nbsp;&nbsp;&nbsp;&nbsp;//In&nbsp;this&nbsp;case&nbsp;we&nbsp;are&nbsp;creating&nbsp;a&nbsp;constructor&nbsp;which&nbsp;is&nbsp;payable&nbsp;meaning&nbsp;that&nbsp;when&nbsp;you&nbsp;deploy&nbsp;the&nbsp;contract&nbsp;you&nbsp;can&nbsp;send&nbsp;Ethereum&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;&nbsp;and&nbsp;that&nbsp;Ethereum&nbsp;will&nbsp;be&nbsp;stored&nbsp;within&nbsp;the&nbsp;contract’s&nbsp;balance.&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;//This&nbsp;is&nbsp;useful&nbsp;if&nbsp;the&nbsp;contract&nbsp;requires&nbsp;a&nbsp;balance&nbsp;for&nbsp;some&nbsp;of&nbsp;its&nbsp;actions&nbsp;right&nbsp;out&nbsp;of&nbsp;the&nbsp;gate.<br />&nbsp;&nbsp;&nbsp;&nbsp;constructor&nbsp;()&nbsp;public&nbsp;payable&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//Defining&nbsp;an&nbsp;owner&nbsp;in&nbsp;the&nbsp;constructor&nbsp;is&nbsp;common&nbsp;convention&nbsp;used&nbsp;in&nbsp;solidity&nbsp;to&nbsp;have&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//an&nbsp;administrative&nbsp;user&nbsp;to&nbsp;limit&nbsp;usage&nbsp;of&nbsp;specific&nbsp;functionality.<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//Usually,&nbsp;authorization&nbsp;of&nbsp;functionality&nbsp;is&nbsp;handled&nbsp;in&nbsp;a&nbsp;security&nbsp;library,&nbsp;for&nbsp;example&nbsp;Openzeppelin,&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//which&nbsp;we&nbsp;will&nbsp;cover&nbsp;extensively&nbsp;when&nbsp;fixing&nbsp;smart&nbsp;contract&nbsp;vulnerabilities.<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//This&nbsp;is&nbsp;a&nbsp;way&nbsp;for&nbsp;the&nbsp;contract&nbsp;to&nbsp;set&nbsp;an&nbsp;administrative&nbsp;user&nbsp;when&nbsp;the&nbsp;contract&nbsp;is&nbsp;created.&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//Since&nbsp;the&nbsp;constructor&nbsp;runs&nbsp;only&nbsp;one&nbsp;time,&nbsp;it’s&nbsp;a&nbsp;good&nbsp;place&nbsp;to&nbsp;set&nbsp;an&nbsp;initial&nbsp;user.&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//Often&nbsp;you&nbsp;will&nbsp;see&nbsp;this&nbsp;paired&nbsp;with&nbsp;a&nbsp;change&nbsp;owner&nbsp;function&nbsp;that&nbsp;is&nbsp;protected&nbsp;by&nbsp;the&nbsp;owner’s&nbsp;authorization&nbsp;level&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//and&nbsp;allows&nbsp;the&nbsp;current&nbsp;owner&nbsp;to&nbsp;set&nbsp;a&nbsp;new&nbsp;administrative&nbsp;user.<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//The&nbsp;msg.sender&nbsp;variable&nbsp;in&nbsp;solidity&nbsp;is&nbsp;simply&nbsp;the&nbsp;users&nbsp;address&nbsp;who&nbsp;called&nbsp;the&nbsp;function,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//or&nbsp;in&nbsp;this&nbsp;case&nbsp;the&nbsp;user&nbsp;who&nbsp;published&nbsp;the&nbsp;contract&nbsp;initially.<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//This&nbsp;is&nbsp;tied&nbsp;to&nbsp;the&nbsp;user’s&nbsp;public&nbsp;address&nbsp;they&nbsp;use&nbsp;for&nbsp;transactions<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//Each&nbsp;time&nbsp;a&nbsp;user&nbsp;interacts&nbsp;with&nbsp;a&nbsp;contract,&nbsp;their&nbsp;address&nbsp;is&nbsp;known&nbsp;by&nbsp;the&nbsp;contract&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//as&nbsp;the&nbsp;msg.sender&nbsp;value&nbsp;and&nbsp;this&nbsp;address&nbsp;is&nbsp;used&nbsp;to&nbsp;associate&nbsp;values&nbsp;with&nbsp;their&nbsp;account&nbsp;sort&nbsp;of&nbsp;like&nbsp;a&nbsp;session&nbsp;variable&nbsp;in&nbsp;a&nbsp;sense.<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//You&nbsp;can&nbsp;use&nbsp;this&nbsp;value&nbsp;to&nbsp;map&nbsp;functionality&nbsp;to&nbsp;that&nbsp;user<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//msg.sender&nbsp;value&nbsp;in&nbsp;this&nbsp;contract&nbsp;is&nbsp;used&nbsp;to&nbsp;set&nbsp;the&nbsp;Owner,&nbsp;validate&nbsp;the&nbsp;Owner,&nbsp;map&nbsp;balances&nbsp;on&nbsp;accounts&nbsp;and&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//transfer&nbsp;value&nbsp;back&nbsp;to&nbsp;the&nbsp;user.<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;owner&nbsp;=&nbsp;msg.sender;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;//isOwner()&nbsp;Check&nbsp;if&nbsp;the&nbsp;user&nbsp;interacting&nbsp;with&nbsp;a&nbsp;contract&nbsp;is&nbsp;the&nbsp;owner&nbsp;of&nbsp;the&nbsp;application.<br />&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;&nbsp;It&nbsp;checks&nbsp;this&nbsp;by&nbsp;returning&nbsp;true&nbsp;if&nbsp;the&nbsp;msg.sender&nbsp;value&nbsp;equals&nbsp;the&nbsp;current&nbsp;owners&nbsp;address.&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;//This&nbsp;is&nbsp;how&nbsp;the&nbsp;application&nbsp;enforces&nbsp;its&nbsp;authorization&nbsp;level&nbsp;on&nbsp;administrative&nbsp;users.<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;isOwner&nbsp;()&nbsp;public&nbsp;view&nbsp;returns(bool)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;msg.sender&nbsp;==&nbsp;owner;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;//This&nbsp;is&nbsp;a&nbsp;modifier(not&nbsp;a&nbsp;function),&nbsp;this&nbsp;mean&nbsp;we&nbsp;can&nbsp;check&nbsp;within&nbsp;the&nbsp;definition&nbsp;of&nbsp;a&nbsp;function&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;&nbsp;instead&nbsp;of&nbsp;the&nbsp;body&nbsp;of&nbsp;the&nbsp;function&nbsp;as&nbsp;you&nbsp;can&nbsp;check&nbsp;below&nbsp;with&nbsp;the&nbsp;withdrawAll&nbsp;function<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;//using&nbsp;require(isOwner)&nbsp;in&nbsp;the&nbsp;beginning&nbsp;of&nbsp;a&nbsp;function&nbsp;the&nbsp;function&nbsp;would&nbsp;refuse&nbsp;to&nbsp;run&nbsp;the&nbsp;rest&nbsp;of&nbsp;its&nbsp;code&nbsp;if&nbsp;the&nbsp;user<br />&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;&nbsp;calling&nbsp;the&nbsp;contract&nbsp;was&nbsp;not&nbsp;the&nbsp;owner;<br />&nbsp;&nbsp;&nbsp;&nbsp;//_;&nbsp;&nbsp;--&gt;&nbsp;this&nbsp;value&nbsp;simply&nbsp;means&nbsp;continue&nbsp;running&nbsp;calling&nbsp;code&nbsp;as&nbsp;normal&nbsp;within&nbsp;the&nbsp;function&nbsp;provided&nbsp;the&nbsp;require&nbsp;modifier&nbsp;returned&nbsp;true.<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;modifier&nbsp;onlyOwner()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;require(isOwner());<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;//deposit&nbsp;function&nbsp;is&nbsp;used&nbsp;for&nbsp;filling&nbsp;the&nbsp;account&nbsp;of&nbsp;the&nbsp;concract&nbsp;with&nbsp;Ether&nbsp;from&nbsp;an&nbsp;external&nbsp;account&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;//You&nbsp;can&nbsp;notice&nbsp;that&nbsp;the&nbsp;definition&nbsp;of&nbsp;the&nbsp;function&nbsp;deposit&nbsp;has&nbsp;the&nbsp;words&nbsp;public&nbsp;and&nbsp;payable.<br />&nbsp;&nbsp;&nbsp;&nbsp;//This&nbsp;because&nbsp;in&nbsp;order&nbsp;to&nbsp;deposit&nbsp;value&nbsp;to&nbsp;an&nbsp;account&nbsp;the&nbsp;function&nbsp;must&nbsp;be&nbsp;marked&nbsp;as&nbsp;a&nbsp;payable&nbsp;function.&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;//This&nbsp;goes&nbsp;for&nbsp;addresses&nbsp;as&nbsp;well,&nbsp;when&nbsp;using&nbsp;addresses&nbsp;within&nbsp;value&nbsp;transfers&nbsp;those&nbsp;addresses&nbsp;must&nbsp;also&nbsp;be&nbsp;marked&nbsp;as&nbsp;payable.<br />&nbsp;&nbsp;&nbsp;&nbsp;//This&nbsp;was&nbsp;something&nbsp;that&nbsp;was&nbsp;added&nbsp;the&nbsp;Solidity&nbsp;as&nbsp;of&nbsp;version&nbsp;5,&nbsp;prior&nbsp;to&nbsp;version&nbsp;5&nbsp;if&nbsp;you&nbsp;are&nbsp;auditing&nbsp;code<br />&nbsp;&nbsp;&nbsp;&nbsp;//you&nbsp;will&nbsp;not&nbsp;see&nbsp;this&nbsp;keyword&nbsp;required&nbsp;within&nbsp;all&nbsp;portions&nbsp;of&nbsp;value&nbsp;transfer&nbsp;events.<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;//The&nbsp;deposit&nbsp;function&nbsp;need&nbsp;to&nbsp;be&nbsp;public,&nbsp;because&nbsp;we&nbsp;need&nbsp;to&nbsp;call&nbsp;it,<br />&nbsp;&nbsp;&nbsp;&nbsp;//It&nbsp;has&nbsp;a&nbsp;require&nbsp;line,&nbsp;a&nbsp;conditional&nbsp;check&nbsp;that&nbsp;if&nbsp;it&nbsp;fails&nbsp;the&nbsp;transaction&nbsp;will&nbsp;halt&nbsp;and&nbsp;revert&nbsp;back&nbsp;to&nbsp;the&nbsp;state&nbsp;before&nbsp;it&nbsp;was&nbsp;called.<br />&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;&nbsp;In&nbsp;this&nbsp;instance,&nbsp;if&nbsp;the&nbsp;value&nbsp;is&nbsp;not&nbsp;a&nbsp;positive&nbsp;value,&nbsp;it&nbsp;will&nbsp;fail&nbsp;and&nbsp;the&nbsp;function&nbsp;will&nbsp;return&nbsp;an&nbsp;error.<br />&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;&nbsp;If&nbsp;the&nbsp;value&nbsp;is&nbsp;indeed&nbsp;a&nbsp;positive&nbsp;number,<br />&nbsp;&nbsp;&nbsp;&nbsp;//the&nbsp;next&nbsp;line&nbsp;will&nbsp;run&nbsp;and&nbsp;increase&nbsp;the&nbsp;account&nbsp;value&nbsp;of&nbsp;the&nbsp;user&nbsp;by&nbsp;the&nbsp;value&nbsp;that&nbsp;was&nbsp;sent.<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;deposit()&nbsp;public&nbsp;payable&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;require((balances[msg.sender]&nbsp;+&nbsp;msg.value)&nbsp;&gt;=&nbsp;balances[msg.sender]);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;balances[msg.sender]&nbsp;+=&nbsp;msg.value;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;//withdraw&nbsp;function&nbsp;used&nbsp;for&nbsp;removing&nbsp;your&nbsp;Ether&nbsp;from&nbsp;the&nbsp;contract.<br />&nbsp;&nbsp;&nbsp;&nbsp;//Require&nbsp;that&nbsp;the&nbsp;amount&nbsp;to&nbsp;be&nbsp;withdrawn&nbsp;is&nbsp;less&nbsp;than&nbsp;or&nbsp;equal&nbsp;to&nbsp;the&nbsp;account&nbsp;balance&nbsp;of&nbsp;that&nbsp;user.&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;&nbsp;If&nbsp;this&nbsp;check&nbsp;fails&nbsp;and&nbsp;the&nbsp;user&nbsp;does&nbsp;not&nbsp;have&nbsp;a&nbsp;high&nbsp;enough&nbsp;balance&nbsp;for&nbsp;the&nbsp;withdraw,&nbsp;then&nbsp;transaction&nbsp;returns&nbsp;an&nbsp;error.<br />&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;&nbsp;If&nbsp;it&nbsp;succeeds,&nbsp;then&nbsp;the&nbsp;function&nbsp;continue&nbsp;the&nbsp;execution&nbsp;and<br />&nbsp;&nbsp;&nbsp;&nbsp;//it&nbsp;decrease&nbsp;the&nbsp;balance&nbsp;of&nbsp;the&nbsp;user&nbsp;internally&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;//followed&nbsp;by&nbsp;transferring&nbsp;the&nbsp;approved&nbsp;amount&nbsp;back&nbsp;to&nbsp;the&nbsp;users&nbsp;account&nbsp;address.<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;withdraw&nbsp;(uint&nbsp;withdrawAmount)&nbsp;public&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;require&nbsp;(withdrawAmount&nbsp;&lt;=&nbsp;balances[msg.sender]);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;balances[msg.sender]&nbsp;-=&nbsp;withdrawAmount;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;msg.sender.transfer(withdrawAmount);<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;//We&nbsp;can&nbsp;see&nbsp;that&nbsp;this&nbsp;function&nbsp;has&nbsp;the&nbsp;onlyOwner&nbsp;modifier&nbsp;created&nbsp;in&nbsp;the&nbsp;beginning&nbsp;of&nbsp;the&nbsp;contract.<br />&nbsp;&nbsp;&nbsp;&nbsp;//When&nbsp;this&nbsp;modifier&nbsp;is&nbsp;added&nbsp;to&nbsp;the&nbsp;function&nbsp;definition,&nbsp;it&nbsp;will&nbsp;run&nbsp;the&nbsp;code&nbsp;within&nbsp;isOwner&nbsp;which&nbsp;checks&nbsp;if&nbsp;the&nbsp;user&nbsp;is&nbsp;the&nbsp;original&nbsp;contract&nbsp;owner&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;//created&nbsp;in&nbsp;the&nbsp;constructor&nbsp;when&nbsp;the&nbsp;contract&nbsp;was&nbsp;deployed.<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;withdrawAll()&nbsp;public&nbsp;onlyOwner&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;msg.sender.transfer(address(this).balance);<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;//function&nbsp;that&nbsp;returns&nbsp;the&nbsp;balance&nbsp;of&nbsp;the&nbsp;user&nbsp;who&nbsp;calls&nbsp;the&nbsp;function.<br />&nbsp;&nbsp;&nbsp;&nbsp;//You&nbsp;will&nbsp;notice&nbsp;that&nbsp;within&nbsp;the&nbsp;function&nbsp;definition&nbsp;it&nbsp;uses&nbsp;the&nbsp;“view”&nbsp;keyword&nbsp;indicating&nbsp;that&nbsp;it&nbsp;is&nbsp;not&nbsp;modifying&nbsp;anything<br />&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;&nbsp;and&nbsp;should&nbsp;not&nbsp;incur&nbsp;fees&nbsp;for&nbsp;processing<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;getBalance&nbsp;()&nbsp;public&nbsp;view&nbsp;returns&nbsp;(uint){<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;balances[msg.sender];<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><span style="color:#000000;font-weight:400">}</span></div></div><br /><br />Bibliography:<br />• <a href="http://console-cowboys.blogspot.com/2020/08/smart-contract-hacking-chapter-2.html">http://console-cowboys.blogspot.com/2020/08/smart-contract-hacking-chapter-2.html</a><br /></div>
</body>
</html>
