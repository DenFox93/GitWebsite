<!doctype html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>Maintain Access</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="res/styles3.css" type="text/css" />
</head>
<body>
<div class='page'><h1 class='title'>Maintain Access</h1><br/>Some customers will want to include the simulation of an Advanced Persistent Threat (APT):<br />   ◇ creating backdoors<br />   ◇ persistence methods<br />   ◇ data exfiltration<br /><br /><strong><h3>Maintain access</h3></strong><br />Our session with the machine must be:<br />• <strong>Stable (does not get dropped)</strong><br />   ◇ <a href="entest--Post_Exploitation--Privilege_Escalation--Meterpreter--migrate_PID_of_the_payload_(hide-stable_conncection_&_session_died_problem).html">migrate Metasploit to another process</a><br />   <div class="codebox"><div class="codebox">meterpreter&nbsp;&gt;&nbsp;getpid&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#id&nbsp;process&nbsp;that&nbsp;we&nbsp;are&nbsp;attached<br />meterpreter&nbsp;&gt;&nbsp;ps&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#all&nbsp;id&nbsp;of&nbsp;the&nbsp;processes&nbsp;running&nbsp;on&nbsp;the&nbsp;machine<br />meterpreter&nbsp;&gt;&nbsp;run&nbsp;post/windows/manage/migrate&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#migrate&nbsp;to&nbsp;another&nbsp;process&nbsp;from&nbsp;the&nbsp;current&nbsp;one<br />meterpreter&nbsp;&gt;&nbsp;getpid&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#NEW&nbsp;id&nbsp;process&nbsp;that&nbsp;we&nbsp;are&nbsp;attached</div></div><br />   the process on which it will migrate, will always be a process with the same privileges as the current session and that the process name is notepad.txt <br />• <strong>Privileged (can run with high privileges)</strong><br />• <strong>Persistent (through reboots)</strong><br /><br /><a href="file://C:/CherryTree/screenshots2/PTP-elearnsecurity/2. Network Security/6. Post Exploitation/maitainingAccess.png"><img src="images/856-1.png" alt="images/856-1.png" /></a><br /><br /></div>
</body>
</html>
