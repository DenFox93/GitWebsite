<!doctype html>
<html>

<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>DNS</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="res/styles3.css" type="text/css" />
</head>

<body>
  <div class='page'>
    <h1 class='title'>DNS</h1><br />DNS discussed also in these chapters:<br />• <a
      href="Home--Pentesting_Basics--networking--protocols--protocol_layers--IP_protocol_suite_(TCP-IP)--Application_layer--DNS.html">TCP/IP
      → Application layer → DNS</a><br />• <a
      href="Home--Penetration_Test_Methodology--Network_Pentest--Scanning_and_Enumeration--DNS.html">Recoinnaisssance →
      DNS</a><br />• <a
      href="Home--Penetration_Test_Methodology--Network_Pentest--Sniffing-Spoofing-Poisoning--Active_Sniffing-Spoofing--DNS_Spoofing_(Router).html">Sniffing
      → DNS Spoofing (router)</a><br />• <a
      href="Home--Penetration_Test_Methodology--Network_Pentest--Vulnerability_assessment--Manual_Testing--DNS.html">Vulnerability
      Assessment → DNS</a><br />• <a
      href="Methodology--Network_Pentest--Sniffing-Spoofing-Poisoning--NetNTLM_attacks--Man-in-the-Middle_techniques_(ipv6)--NTLM_Relay_attack_(ipv6).html">Post
      Exploitation → MitM attack → NTLM relay attack → DNS Spoofing</a><br /><br /><a
      href="Home--Pentesting_Basics--networking--protocols--protocol_layers--IP_protocol_suite_(TCP-IP)--Application_layer--DNS.html">Domain
      Name System</a><a
      href="Home--Pentesting_Basics--networking--protocols--protocol_layers--IP_protocol_suite_(TCP-IP)--Application_layer--DNS.html">
      (DNS)</a> is a distributed database arranged hierarchically.<br />Its purpose is to provide name resolution to IP
    addresses and vice versa.<br />Attacks against DNS → <a
      href="Home--Penetration_Test_Methodology--Network_Pentest--Vulnerability_assessment--Manual_Testing--DNS.html">HERE</a><br /><br /><br /><br /><strong>
      <h3>What are: DNS Resource Records</h3>
    </strong><br />We can define DNS Resource Records simply as DNS Server database .<br />DNS resource records are
    primarily located in zone files and are structured according to a simple system and coded in ASCII. <br />There is a
    separate line for each DNS record. <br />The records typically have the following format:<br />
    <div class="codebox">
      <div class="codebox">
        &lt;name&gt;&nbsp;&lt;ttl&gt;&nbsp;&lt;class&gt;&nbsp;&lt;type&gt;&nbsp;&lt;rdlength&gt;&nbsp;<span
          style="color:#000000;font-weight:400">&lt;</span>radata<span style="color:#000000;font-weight:400">&gt;</span>
      </div>
    </div><br /><strong>• &lt;name&gt;</strong>: A Resource record starts with a domain name, usually a fully qualified
    domain name. If anything other than a fully qualified domain name is used, the name of the zone of the record is in
    used will automatically be appended to the end of the name.<br /><strong>• &lt;ttl&gt;:</strong> Time-To-Live(TTL)
    denotes the time (in seconds) that a record may be temporarily stored in the cache. After the time has lapsed, it
    cannot be ensured that the resource record is still current. This information is optional.<strong><br />•
      &lt;class&gt;</strong>: In theory, there are different classes of DNS records(Internet, Hesiod, or Chaos). In
    practice, however, the records always refer to the internet (marked as IN), which is why this information is also
    optional.<br /><strong>• &lt;type&gt;</strong>: Different types of resource records appear in a zone file. they
    determine what kind of information is located in the record.<br /> ◇ <strong>SOA</strong> → Each zone hosted on a
    DNS server is required to have a SOA (start of authority) record. The details include the address of the <span
      style="text-decoration:underline;">master name server</span>, email address of the administrator, when the domain
    was last updated, and how long the server should wait between refreshes<br /> ▪ MNAME: This is the name of the <span
      style="text-decoration:underline;">primary(MASTER) nameserver</span> for the zone. Secondary servers that maintain
    duplicates of the zone&#39;s DNS records receive updates to the zone from this primary server.<br /> ▪ RNAME: <span
      style="color:#424242;"> </span>represents the administrator&#39;s email address, which can be confusing because it
    is missing the ‘@’ sign, but in an SOA record admin.example.com is the equivalent of admin@example.com.<br /> ▪
    REFRESH: The length of time (in seconds) secondary servers should wait before asking primary servers for the SOA
    record to see if it has been updated.<br /> ▪ RETRY: The length of time a server should wait for asking an
    unresponsive primary nameserver for an update again.<br /> ▪ EXPIRE: If a secondary server does not get a response
    from the primary server for this amount of time, it should stop responding to queries for the zone.<br /> ◇
    <strong>NS</strong> → NS stands for ‘nameserver,’ and the nameserver record indicates which DNS server is
    authoritative for that domain. The nameserver stores all DNS records for a domain, including A records, MX records,
    or CNAME records. They are formatted like his ns1.&lt;domain&gt;, ns2.&lt;domain&gt;<br />
    <table class="table">
      <tr>
        <th>example.com</th>
        <th>record type:</th>
        <th>value:</th>
        <th>TTL</th>
      </tr>
      <tr>
        <td>@</td>
        <td>NS</td>
        <td>ns1.exampleserver.com</td>
        <td>21600</td>
      </tr>
    </table><br /> ◇ <strong>A</strong> → maps a hostname to an IPv4 address. Zones with A records are called
    &#39;forward&#39; zones. ‘@’ symbol can indicates that this is a record for the root domain<br />
    <table class="table">
      <tr>
        <th>example.com</th>
        <th>record type:</th>
        <th>value:</th>
        <th>TTL</th>
      </tr>
      <tr>
        <td>@</td>
        <td>A</td>
        <td>192.0.2.1</td>
        <td>14400</td>
      </tr>
    </table><br /> ◇ <strong>AAAA</strong> → &quot;Quad-A&quot;, maps a hostname to an IPv6 address.<br /> ◇
    <strong>PTR</strong> → maps an IP address to a Hostname. It is a query that starts with the IP address and looks up
    the domain name. A PTR record is exactly the opposite of the &#39;A&#39; record.<br /> While DNS A records are
    stored under the given domain name, DNS PTR records are stored under the IP address reversed, and with
    &quot;.in-addr.arpa&quot; added. <br /> <span style="color:#a5452a;">example:</span> the PTR record for the IP
    address 216.58.206.46 would be stored under &quot;46.206.58.216.in-addr.arpa&quot; that will point to the nameserver
    lhr35s10-in-f14.1e100.net that actually has the PTR record<br /> &quot;in-addr.arpa&quot; has to be added because
    PTR records are stored within the .arpa top-level domain which is also been the first top-level domain name defined
    for the Internet.<br /> *resource: <a
      href="https://www.cloudflare.com/learning/dns/dns-records/dns-ptr-record/" target="_blank">https://www.cloudflare.com/learning/dns/dns-records/dns-ptr-record/</a><br />
    ◇ <strong>CNAME</strong> → maps an alias hostname to an A record hostname<br /> ◇ <strong>MX</strong> → specifies a
    host that will accept email on behalf of a given host. The specified host has an associated priority value A single
    host may have multiple MX records. The records for a specific host make up a prioritized list.<br /><strong>•
      &lt;rdlength&gt;: This optional field specifies the size of the subsequent data field.<br />• &lt;rdata&gt;:
      Resource data is the information according to which the domain name can be resolved (such as the IP
      address).<br /></strong><br />Bibliography:<br />• <a
      href="https://www.cloudflare.com/learning/dns/glossary/dns-root-server/" target="_blank">https://www.cloudflare.com/learning/dns/glossary/dns-root-server/</a><br />•
    <a
      href="https://www.cloudflare.com/learning/dns/dns-server-types/" target="_blank">https://www.cloudflare.com/learning/dns/dns-server-types/</a><br />•
    <a
      href="https://www.cloudflare.com/learning/dns/dns-server-types/" target="_blank">https://www.cloudflare.com/learning/dns/dns-server-types/</a><br /><br /><br /><br /><br /><br /><br /><br />
  </div>
</body>

</html>