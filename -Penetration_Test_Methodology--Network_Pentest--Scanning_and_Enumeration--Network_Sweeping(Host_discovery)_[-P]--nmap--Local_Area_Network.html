<!doctype html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>Local Area Network</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="res/styles3.css" type="text/css" />
</head>
<body>
<div class='page'><h1 class='title'>Local Area Network</h1><br/><br /><strong><h3>Local Area Network</h3></strong><br />If we run a scan in a local network, nmap perform few more operations before performing the scan: ARP ping scan, DNS resolution of the target. nmap does these operations because is the faster way to discover live host in a local area network.<br />If Nmap was invoked as root(UID 0), it first checks if the target IP address to be scanned is on the <span style="text-decoration:underline;">same subnet</span> as the machine running Nmap. If it is, Nmap sends an ARP request and waits for an ARP response. If it gets an ARP response from the address on the same subnet, Nmap knows that the given address is in use. <br /><strong>--disable-arp-ping</strong> or <strong>--send-ip</strong> →<br />    For machines on a <span style="text-decoration:underline;">local </span><em><span style="text-decoration:underline;">Ethernet</span></em><span style="text-decoration:underline;"> network</span>, these options tells Nmap to send IP level packets (rather than raw ethernet) even though it is a local network. ARP scanning will still be performed  because Nmap needs MAC addresses to further scan target hosts. Also if this option is pretty fast we do not need it as we already have uncovered the network live hosts in the <a href="Home--Penetration_Test_Methodology--Network_Pentest--Scanning_and_Enumeration--DNS--Zone_Transfers.html">Hosts Discovery Phase</a>.<br /><strong>-n</strong> → Never do DNS resolution. This is a HOST DISCOVERY option but we can use it with all SCAN TECHNIQUES<br />     <span style="text-decoration:underline;">When resolving IP addresses to hostnames is not required</span> we can use -n to decrease our scan times, and also help us stay a bit more “under the radar”, as reverse DNS lookups can generate more noise than necessary. This can be useful of external hosts but we do not need here because will take the scan more time to be executed.<br /><br /><strong>&quot;normal scan&quot; with ARP ping scan and DNS resolution enabled</strong><br /><div class="codebox"><div class="codebox">nmap&nbsp;-sS&nbsp;192.168.1.25&nbsp;-d&nbsp;-p80</div></div><br /><a href="file://C:/CherryTree/screenshots2/PTP-elearnsecurity/2. Network Security/2. Scanning/ARP_ping.png"><img src="images/626-1.png" alt="images/626-1.png" /></a><br /><a href="file://C:/CherryTree/screenshots2/PTP-elearnsecurity/2. Network Security/2. Scanning/wireshark_arp_dns.png"><img src="images/626-2.png" alt="images/626-2.png" /></a><br /><br /><strong>ARP ping scan and DNS resolution disabled</strong><br /><div class="codebox"><div class="codebox">nmap&nbsp;-sS&nbsp;192.168.1.25&nbsp;-d&nbsp;--disable-arp-ping&nbsp;-n&nbsp;-p&nbsp;80</div></div><br />Now we no more <span style="color:#a020f0;">DNS</span> and <span style="color:#ff8700;">ARP</span> packets in wireshark<br /><a href="file://C:/CherryTree/screenshots2/PTP-elearnsecurity/2. Network Security/2. Scanning/wireshark_arp_dns_disabled.png"><img src="images/626-3.png" alt="images/626-3.png" /></a><br /><br /></div>
</body>
</html>
