<!doctype html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>3. set payload and option</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="res/styles3.css" type="text/css" />
</head>
<body>
<div class='page'><h1 class='title'>3. set payload and option</h1><br/><strong><h2>Configure a module(exploit) with a payload and option(s)</h2></strong><br /><br /><br /><strong><h3>Show the payloads available:</h3></strong><br />To run an exploit, a <span style="text-decoration:underline;">payload</span> is needed. <br />Payloads are pieces of code injected by an exploit module into the victim machine or service.<br />While an exploit abuse a vulnerability, in order to do something on a machine we need a payload that runs on the remote machine<br /><br />Different exploits support different payloads, thus a payload that we can use with a specific module maybe is incompatible with a different one.<br />Because we type “show payloads” inside a specific exploit, it will list only the available payloads for the specific exploit<br />If we do not set a payload metasploit will set it automatically for us(we do not want that..)<br /><div class="codebox"><div class="codebox">show&nbsp;payloads</div></div><br /><span style="color:#a5452a;">example:</span><br />    <a href=""><img src="images/430-1.png" alt="images/430-1.png" /></a><br />    <a href=""><img src="images/430-2.png" alt="images/430-2.png" /></a><br />    <a href=""><img src="images/430-3.png" alt="images/430-3.png" /></a><br />    <br /><strong><span style="color:#ff8700;">Set payload</span></strong><br /><div class="codebox"><div class="codebox">set&nbsp;payload&nbsp;<span style="color:#000000;font-weight:400">&lt;</span>payload-name<span style="color:#000000;font-weight:400">&gt;</span></div></div><br /><span style="color:#a5452a;">example:</span><br />    <strong>windows/meterpreter/reverse_tcp</strong><br />    performs a TCP connection back to the attacker machine. As you saw in the <a href="Home--Penetration_Test_Methodology--System_Security_(Windows_&_Linux)--Malware--Classification--Trojan_Horse.html">Trojan Horse(backdoors) chapter</a>, this feature could help evade firewall rules<br />    <a href=""><img src="images/430-4.png" alt="images/430-4.png" /></a><br /><span style="color:#a5452a;">example 2:</span><br />    <strong>windows/meterpreter/bind_tcp<br />     </strong>runs a server process on the target machine that waits for connections from the attacker machine<br />     <strong><br /></strong><strong><span style="color:#ff8700;">Info about a payload</span></strong><strong><br /></strong><div class="codebox"><div class="codebox">info</div></div><br />    <a href=""><img src="images/430-5.png" alt="images/430-5.png" /></a><br /><h3>show options available for the payload:</h3><br /><div class="codebox"><div class="codebox">show&nbsp;options</div></div><br />now we have a <span style="color:#00ff00;">new section</span> for the payload options and parameters<br /><span style="color:#a5452a;">example</span><strong><span style="color:#1e90ff;"><br />    </span></strong><a href="file://C:/CherryTree/screenshot/Network Attacks/msfconsole-payload-option.png"><img src="images/430-6.png" alt="images/430-6.png" /></a><br />    <span style="color:#00ff00;"> LHOST</span> (local host), the parameter that we have to set, is the ip address of the machine of the attacker, us :)<br /><strong><span style="color:#00ff00;">set option:</span></strong><br /><div class="codebox"><div class="codebox">set&nbsp;&lt;option-name&gt;&nbsp;<span style="color:#000000;font-weight:400">&lt;</span>value<span style="color:#000000;font-weight:400">&gt;</span></div></div><br />example: <br />    <a href=""><img src="images/430-7.png" alt="images/430-7.png" /></a><br />    IMPORTANT:<br />    if we use a VPN we have to set the address of the VPN interface <br />   <a href=""><img src="images/430-8.png" alt="images/430-8.png" /></a><br />    <br />    <br /></div>
</body>
</html>
