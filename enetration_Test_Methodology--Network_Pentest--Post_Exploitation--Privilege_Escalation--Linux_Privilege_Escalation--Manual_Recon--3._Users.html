<!doctype html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>3. Users</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="res/styles3.css" type="text/css" />
</head>
<body>
<div class='page'><h1 class='title'>3. Users</h1><br/><br /><strong>User and Service Accounts</strong><br />information such as the user ID, group ID, home directory and the path to the command shell. <br />An ‘x’ character means that the encrypted password is stored inthe /etc/shadow file<br /><div class="codebox"><div class="codebox">daniele@daniele-vm:~$&nbsp;cat&nbsp;/etc/passwd&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#essential&nbsp;user&nbsp;account&nbsp;information</div></div><br />    <a href=""><img src="images/913-1.png" alt="images/913-1.png" /></a><br /><br /><strong>All Users (UID and GID information)</strong><br /><div class="codebox"><div class="codebox">for&nbsp;user&nbsp;in&nbsp;$(cat&nbsp;/etc/passwd&nbsp;|cut&nbsp;-f1&nbsp;-d&quot;:&quot;);&nbsp;do&nbsp;id&nbsp;$user;&nbsp;done</div></div><br />    <a href=""><img src="images/913-2.png" alt="images/913-2.png" /></a><br /><br /><strong>All UID 0 Accounts (root)</strong><br /><div class="codebox"><div class="codebox">cat&nbsp;/etc/passwd&nbsp;|cut&nbsp;-f1,3,4&nbsp;-d&quot;:&quot;&nbsp;|grep&nbsp;&quot;0:0&quot;&nbsp;|cut&nbsp;-f1&nbsp;-d&quot;:&quot;&nbsp;|awk&nbsp;&#39;{print&nbsp;$1}&#39;</div></div><br />    <a href=""><img src="images/913-3.png" alt="images/913-3.png" /></a><br /><br /><strong>Last logged on Users</strong><br /><div class="codebox"><div class="codebox">daniele@daniele-vm:~$&nbsp;last&nbsp;-a</div></div><br />    <a href=""><img src="images/913-4.png" alt="images/913-4.png" /></a><br /><br /><strong>Groups</strong><br /><div class="codebox"><div class="codebox">daniele@daniele-vm:~$&nbsp;cat&nbsp;/etc/group</div></div><br /><br /><strong>Currently Logged on Users   </strong><br /><div class="codebox"><div class="codebox">daniele@daniele-vm:~$&nbsp;id&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#current&nbsp;user<br />daniele@daniele-vm:~$&nbsp;whoami&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#current&nbsp;user<br />daniele@daniele-vm:~$&nbsp;grep&nbsp;$USER&nbsp;/etc/passwd&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#current&nbsp;user<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />daniele@daniele-vm:~$&nbsp;who&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#active&nbsp;session<br />daniele@daniele-vm:~$&nbsp;w&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#active&nbsp;session(more&nbsp;informations)<br /></div></div><br />    <a href=""><img src="images/913-5.png" alt="images/913-5.png" /></a><br />    attention to the <span style="color:#00ff00;">groups</span> to which the privileged user belongs. One especially important group is the <span style="color:#a020f0;">sudo</span> (‘Super User Do’) group. <br />    A user that is a member of the <span style="color:#a020f0;">sudo group</span> is able to execute commands in the context of the root user without providing the root password.<br />    When the user is part of the <span style="color:#a020f0;">sudo group</span> you can display a list of commands that can be executed as superuser by typing:<br />    <div class="codebox"><div class="codebox">daniele@daniele-vm:~$&nbsp;sudo&nbsp;-l&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#list&nbsp;of&nbsp;commands&nbsp;as&nbsp;superuser</div></div><br />        <a href=""><img src="images/913-6.png" alt="images/913-6.png" /></a><br />        As expected we can run <span style="color:#a020f0;">ALL commands as root</span> because we are in the sudo group<br />        It is possible to limit a user’s sudo privileges to certain commands by whitelisting them in the file: /etc/sudoers<br />        <div class="codebox"><div class="codebox">cat&nbsp;/etc/sudoers&nbsp;-n</div></div><br />            <a href=""><img src="images/913-7.png" alt="images/913-7.png" /></a><br /><br /><br />    </div>
</body>
</html>
