<!doctype html>
<html>

<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>3.1 Configure Client</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="res/styles3.css" type="text/css" />
</head>

<body>
  <div class='page'>
    <h1 class='title'>3.1 Configure Client</h1><br /><br /><br />
    <div class="codebox">
      <div class="codebox">
        daniele@TelesploitClient:~$&nbsp;cd&nbsp;/home/&lt;user&gt;/<br />daniele@TelesploitClient:~$&nbsp;mkdir&nbsp;&lt;relaySubdomain&gt;<br />daniele@TelesploitClient:~$&nbsp;cd&nbsp;&lt;relaySubdomain&gt;<br />daniele@TelesploitClient:~$&nbsp;git&nbsp;clone&nbsp;https://github.com/telesploit/telesploit-client.git<br />daniele@TelesploitClient:~$&nbsp;cd&nbsp;telesploit-client/<br />daniele@TelesploitClient:~$&nbsp;ls&nbsp;<br />daniele@TelesploitClient:~$&nbsp;cd&nbsp;linux/
      </div>
    </div><br /><br /><br />1. On Linux, update the relay_fqdn variable in
    ./telesploit-client/linux/client-configs/client.cfg<br />
    <div class="codebox">
      <div class="codebox">
        daniele@TelesploitClient:~$&nbsp;nano&nbsp;/home/&lt;user&gt;/&lt;relaySubdomain&gt;/telesploit-client/linux/client-configs/client.cfg
      </div>
    </div><br /> Change <code>relay_fqdn=&#39;relay-os.telesploit.com&#39;</code> To
    <code>relay_fqdn=&#39;&lt;relaySubdomain&gt;&#39;</code> → &lt;relaySubdomain&gt; is the subdomain that we associate
    to the ip address of the instance of AWS (<a href="https://www.godaddy.com/help/create-a-subdomain-4080" target="_blank">here</a> to
    see how we have done)<br /><br />2. Now we can run the script setup_client.sh<br />
    <div class="codebox">
      <div class="codebox">
        daniele@TelesploitClient:~$&nbsp;/home/&lt;user&gt;/&lt;relaySubdomain&gt;/telesploit-client/linux/setup_client.sh
      </div>
    </div><br /> 1) Please verify that the correct relay FQDN is set in ./client-configs/client.cfg and that your public
    key has been added on the relay (default /home/$ssh_user/.ssh/authorized_keys)<br /> To do that see <a
      href="tacker_Testing_Infrastructure--Penetration_Testing_via_SSH(or_VPN)--Telesploit--1._Telesploit_Relay--1.3_Add_authorized_keys_to_the_relay.html">1.3
      Add authorized keys to the relay</a>, we have to add the same public key &lt;penTesterPublicKey&gt; used the <a
      href="Network_Pentest--Attacker_Testing_Infrastructure--Penetration_Testing_via_SSH(or_VPN)--Telesploit--2._Telesploit_Server--Configure_Server.html">Configuration
      of the Server</a> at point 5.2.<br /> Otherwise the relay will refuse our connection for “Too many authentication
    failures”<br /> 3) If the relay is not correct, or does not resolve then exit now and correct the issue. Press any
    key to continue or Ctrl+C to exit...<br /> 4) Enter the full path to the private key being used to access the
    Telesploit server, e.g. /home/user/.ssh/user.id_rsa, followed by [ENTER]: <br /> In the <a
      href="Network_Pentest--Attacker_Testing_Infrastructure--Penetration_Testing_via_SSH(or_VPN)--Telesploit--2._Telesploit_Server--Configure_Server.html">configuration
      of the Server</a> at point 5.2 we have set the public key of the penetration tester (<code>tester_pub_key</code>),
    now we have to insert the private key of the penetration tester.<br /> Attention we have to insert the path not the
    content.<br /> This the option of a direct ssh from the Client to the Server without pass from the Relay<br /> 4)
    Like in the <a
      href="Network_Pentest--Attacker_Testing_Infrastructure--Penetration_Testing_via_SSH(or_VPN)--Telesploit--2._Telesploit_Server--Configure_Server.html">configuration
      of the Server</a> we are doing at point 10.6<br /> <a href=""><img src="images/1003-1.png"
        alt="images/1003-1.png" /></a><br /> *<span style="color:#ff0000;">ATTENTION:</span> in the test done during the
    configuration of the server in server_setup.sh the files did not match while here yes... Is this could be caused by
    the fact that to retrieve the fingerprint from the webpage is been used curl instead of wget?
  </div>
</body>

</html>