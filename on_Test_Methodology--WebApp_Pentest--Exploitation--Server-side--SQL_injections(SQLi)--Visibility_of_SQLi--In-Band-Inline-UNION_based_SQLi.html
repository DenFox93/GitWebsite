<!doctype html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>In-Band/Inline/UNION based SQLi</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="res/styles3.css" type="text/css" />
</head>
<body>
<div class='page'><h1 class='title'>In-Band/Inline/UNION based SQLi</h1><br/><br /><br />With In-Band/Inline SQLi the end user(penetration tester) can see, largely unfettered, the results of the SQLi directly. This makes this class of SQLi flaw the simplest for us to both discover and exploit.<br /><br /><span style="text-decoration:underline;">In-band/Inline SQL injections</span> are also known as <span style="text-decoration:underline;">UNION-based SQL injections</span>. Because often the retrieval of data from the database is done via the use of UNION SQL command. <br />   ◇ UNION<br />      UNION statement combines the result-set of two or more SELECT statements.<br />    <div class="codebox"><div class="codebox">SELECT&nbsp;&lt;field&nbsp;list&gt;&nbsp;FROM&nbsp;&lt;table&gt;&nbsp;UNION&nbsp;SELECT&nbsp;&lt;field&nbsp;list&gt;&nbsp;FROM&nbsp;&lt;another&nbsp;table&gt;;</div></div><br /><br /><strong>Vulnerable PHP Source code</strong>s<br />In the examples 1 and 2, <span style="color:#ff8700;">id parameter</span> is  been passed to the mysql query without any sanitization or validation<br />• <span style="color:#a5452a;">Example 1</span><br /><code>&lt;?php<br />$rs=mysql_query(&quot;SELECT real_name FROM users WHERE id=&quot;</code><code><span style="color:#ff8700;">.$_GET[&#39;id&#39;].</span></code><code>&quot;;&quot;);<br />$row=mysql_fetch_assoc($rs);<br />echo $row[&#39;real_name&#39;];<br />?&gt;</code><br />• <span style="color:#a5452a;">Example 2</span><br /><code>&lt;?php</code><br /><code><span style="color:#ff8700;">$identity = $_GET[&#39;id&#39;]</span></code><code><br />$rs=mysql_query(&quot;SELECT real_name FROM users WHERE id=&quot;</code><code><span style="color:#ff8700;">.$identity.</span></code><code>&quot;;&quot;);<br />$row=mysql_fetch_assoc($rs);<br />echo $row[&#39;real_name&#39;];<br />?&gt;</code><br />      <br /><br /><strong><h3>Exploit:</h3></strong><br />   ◇ <a href="WebApp_Pentest--Exploitation--Server-side--SQL_injections(SQLi)--Visibility_of_SQLi--In-Band-Inline-UNION_based_SQLi--UNION_SQL_injection.html">UNION SQL injection</a><br />   ◇ <a href="ide--SQL_injections(SQLi)--Visibility_of_SQLi--In-Band-Inline-UNION_based_SQLi--Always_True_contion_'OR'_extract_all_entries_in_the_table.html">Boolean OR: extract all entries in the table</a><br /></div>
</body>
</html>
