<!doctype html>
<html>

<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>Making use of HTML-encoding</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="res/styles3.css" type="text/css" />
</head>

<body>
  <div class='page'>
    <h1 class='title'>Making use of HTML-encoding</h1><br /><br />When the XSS context is some existing JavaScript
    within a quoted tag attribute, such as an event handler,<span style="text-decoration:underline;"> it is possible to
      make use of HTML-encoding to work around some input filters</span>.<br /><br />When the browser has parsed out the
    HTML tags and attributes within a response, it will perform HTML-decoding of tag attribute values before they are
    processed any further. <span style="text-decoration:underline;">If the server-side application blocks or sanitizes
      certain characters that are needed for a successful XSS exploit, you can often bypass the input validation by
      HTML-encoding those characters</span>.<br /><br /><strong><span
        style="color:#a52a2a;">example</span></strong><strong>, if the XSS context is as follows:</strong><br />
    <div class="codebox">
      <div class="codebox"><span
          style="color:#000000;font-weight:400">&lt;</span>a&nbsp;href=&quot;#&quot;&nbsp;onclick=&quot;...&nbsp;var&nbsp;input=&#39;controllable&nbsp;data&nbsp;here&#39;;&nbsp;...&quot;<span
          style="color:#000000;font-weight:400">&gt;</span></div>
    </div><br />and the application blocks or escapes single quote characters, you can use the following payload to
    break out of the JavaScript string and execute your own script:<br />
    <div class="codebox">
      <div class="codebox">&amp;apos;-alert(document.domain)-&amp;apos;</div>
    </div><br />The &amp;apos; sequence is an HTML entity <span style="text-decoration:underline;">representing an
      apostrophe or single quote</span>. Because the browser HTML-decodes the value of the onclick attribute before the
    JavaScript is interpreted, the entities are decoded as quotes, which become string delimiters, and so the attack
    succeeds.<br /><br /><br /><br /><br /><br /><br /><br /><br /><strong>Bibliography:</strong><br /><a
      href="https://portswigger.net/web-security/cross-site-scripting/contexts" target="_blank">https://portswigger.net/web-security/cross-site-scripting/contexts</a>
  </div>
</body>

</html>