<!doctype html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>6. Cron Jobs</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="res/styles3.css" type="text/css" />
</head>
<body>
<div class='page'><h1 class='title'>6. Cron Jobs</h1><br/><strong><h3>Cron Jobs</h3></strong><br />• <span style="color:#1e90ff;">Cron jobs</span> are programs or scripts which users can schedule to run at specific times or intervals.<br />• <span style="color:#1e90ff;">Cron jobs</span> run with the security level of the user who owns them.<br />• By default, <span style="color:#1e90ff;">cron jobs</span> are run using the /bin/sh shell, with limited environment variables.<br /><br /><strong><h3>Crontabs</h3></strong><br />• <span style="color:#ff8700;">Cron table files (crontabs)</span> store the configuration for <span style="color:#1e90ff;">cron jobs</span>.<br />• User <span style="color:#ff8700;">crontabs</span> are usually located in<br />   ◇ /var/spool/cron/ <br />   ◇ /var/spool/cron/crontabs/<br />• System-wide <span style="color:#ff8700;">crontab</span> is located in<br />   ◇  /etc/crontab<br /><br /><strong><h3>File Permissions</h3></strong><br />Misconfiguration of <span style="color:#ff8700;">file</span> permissions associated with <span style="color:#1e90ff;">cron jobs</span> can lead to privilege escalation.<br />If we can write to a program or script which gets run as part of a <span style="color:#1e90ff;">cron job</span>, we can replace it with our own code.<br /><br /><strong><span style="color:#1e90ff;">Find CronJobs</span></strong><br />   ◇ View the <span style="color:#1e90ff;">cronJobs</span> of the system-wide crontab:<br />       <div class="codebox"><div class="codebox">target@debian:~$&nbsp;cat&nbsp;/etc/crontab</div></div><br />   ◇ List all cron jobs<br />       <div class="codebox"><div class="codebox">target@debian:~$&nbsp;cat&nbsp;/etc/crontab&nbsp;&amp;&amp;&nbsp;ls&nbsp;-als&nbsp;/etc/cron*</div></div><br />   ◇ Find world-writeable cron jobs<br />       <div class="codebox"><div class="codebox">target@debian:~$&nbsp;find&nbsp;/etc/cron*&nbsp;-type&nbsp;f&nbsp;-perm&nbsp;-o+w&nbsp;-exec&nbsp;ls&nbsp;-l&nbsp;{}&nbsp;\;</div></div><br /><br /><br /><br />Bibliography:<br />• Linux Privilege Escalation for OSCP &amp; Beyond!</div>
</body>
</html>
