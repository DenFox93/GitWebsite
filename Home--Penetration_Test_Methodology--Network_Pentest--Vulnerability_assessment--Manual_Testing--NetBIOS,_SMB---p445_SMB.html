<!doctype html>
<html>

<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>-p445: SMB</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="res/styles3.css" type="text/css" />
</head>

<body>
  <div class='page'>
    <h1 class='title'>-p445: SMB</h1><br /><strong>
      <h2>SMB → Server Message Block</h2>
    </strong><br /><br />SMB is a network protocol used by Windows-based computers that allows systems within the same
    network to share files.<br /><br />
    <table class="table">
      <tr>
        <th>layers</th>
        <th>TCP/IP</th>
        <th>ISO/OSI</th>
        <th>Protocols</th>
        <th>what they do</th>
      </tr>
      <tr>
        <td>7</td>
        <td>Application</td>
        <td>Application</td>
        <td>SMB,DNS, FTP, LDP, Telent</td>
        <td>provides a user interface and determines the network services required</td>
      </tr>
      <tr>
        <td>6</td>
        <td>Application</td>
        <td>Presentation</td>
        <td>SMB,HTTP, TLS/SSL</td>
        <td>presents data to the application layer; functions as a translator from computer to human readable form</td>
      </tr>
    </table><br /><br /><strong>
      <h3>Samba software</h3>
    </strong><br /><a href="https://en.wikipedia.org/wiki/Samba_(software)" target="_blank">Samba</a> is a free software
    re-implementation of the SMB protocol. The name Samba comes from SMB (<a
      href="https://en.wikipedia.org/wiki/Server_Message_Block" target="_blank">Server Message Block</a>), the name of the proprietary
    protocol used by the Microsoft Windows network file system.<br /><br /><strong>
      <h3>NetBIOS over TCP/IP</h3>
    </strong><br />Before Windows 2000, SMB traffic requires the NetBIOS over TCP (NBT) protocol to work on a TCP/IP
    transport.<br />NetBIOS over TCP traditionally uses the following ports:<br />nbname 137/UDP<br />nbname
    137/TCP<br />nbdatagram 138/UDP<br />nbsession 139/TCP<br /><br /><strong>
      <h3>SMB over TCP/IP</h3>
    </strong><br />From Windows 2000, SMB traffic can directly work on TCP/IP transport<br />Removing the NetBIOS
    transport has several advantages, including:<br />• Simplifying the transport of SMB traffic.<br />• Removing WINS
    and NetBIOS broadcast as a means of name resolution.<br />• Standardizing name resolution on DNS for file and
    printer sharing.<br /><br />If both the direct hosted and NBT interfaces are enabled, both methods are tried at the
    same time and the first to respond is used. This allows Windows to function properly with operating systems that do
    not support direct hosting of SMB traffic.<br /><br />Direct hosted &quot;NetBIOS-less&quot; SMB traffic uses the
    following port<br />SMB 445/TCP<br /><br /><br /><br /><br />On a Windows machine(from Windows Vista) is possible to
    share a file or a directory on the network; this lets local and remote users access the resource and, possibly,
    modify it.<br /><a href="file://C:/CherryTree/screenshot/System/netbios1.png"><img src="images/669-1.png"
        alt="images/669-1.png" /></a>
  </div>
</body>

</html>