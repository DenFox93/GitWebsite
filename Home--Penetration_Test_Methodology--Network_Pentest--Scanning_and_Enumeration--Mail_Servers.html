<!doctype html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>Mail Servers</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="res/styles3.css" type="text/css" />
</head>
<body>
<div class='page'><h1 class='title'>Mail Servers</h1><br/><br />Email Chain:<br />1. Write the email in a Mail User Agent(MUA) (e.g.:Google Mail, Microsoft Outlook, Mozilla Thunderbird) that runs on the client<br />2. Send the message using the protocol Simple Mail Transfer Protocol (SMTP)<br />3. The message will be received by a Mail Transfer Agent (MTA) (e.g.: Sendmail, Exim) that runs on a remote mail server. <br />4. The MTA will send the message to another MTA, which will pass the email to a Message Delivery Agent (MDA) (e.g.: Procmail, Maildrop, Dovecot) which job is delivering the  email to the recipient’s inbox<br />   ◇ MDA and MTA can also be bundled together in a single software (e.g.: Microsoft Exchange, Citadel)<br />5. Finally the MDA will delivery the email to the recipient’s mailbox<br />6. To access to the mailbox the recipient’s MUA have to use the protocols: Post Office Protocol (POP) or Internet Message Access Protocol (IMAP)<br />   <br /> <a href=""><img src="images/1040-1.png" alt="images/1040-1.png" /></a><br /><br /><strong>Simple Mail Transfer Protocol (SMTP)</strong><br />It is defined in:<br />• RFC 821: from here we can understand the history behind the SMTP<br />• RFC 5321<br /><br />SMTP is an<em> application layer protocol</em> in the Open Systems Interconnection (OSI) model. SMTP dictate how messages are sent from MUAs (sender) to MTAs (server)<br />Usually SMTP work on ports:<br />   ◇ 25/TCP: does not offer encryption of data<br />   ◇ 587/TCP: used for sending encrypted emails<br /><br /><br /><br /><br /><br />Bibliography:<br />• “Hands on Hacking: Become an Expert at Next Gen Penetration Testing and Purple Teaming” Matthew Hickey, Jennifer Arcuri</div>
</body>
</html>
