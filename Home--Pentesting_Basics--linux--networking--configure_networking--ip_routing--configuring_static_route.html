<!doctype html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>configuring static route</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="res/styles3.css" type="text/css" />
</head>
<body>
<div class='page'><h1 class='title'>configuring static route</h1><br/><strong><h1>ip route command</h1></strong><br /><strong>ip route </strong>command is used to configure a static route<br />in Linux:<br /><div class="codebox"><div class="codebox">ip&nbsp;route&nbsp;add&nbsp;&lt;destination-network/destination-subnet-mask&gt;&nbsp;via&nbsp;&lt;next-hop-ip&gt;&nbsp;dev&nbsp;<span style="color:#000000;font-weight:400">&lt;</span>exit-interface<span style="color:#000000;font-weight:400">&gt;</span></div></div><br /><br />or in alternative with <strong>Cisco routers</strong> we can use the follofing command on Cisco IOS(Internetwork Operating System) cli(command line interface):<br /><div class="codebox"><div class="codebox">ip&nbsp;route&nbsp;&lt;destination-network&gt;&nbsp;&lt;destination-subnet-mask&gt;&nbsp;<span style="color:#000000;font-weight:400">(</span>&lt;next-hop-ip&gt;&nbsp;or&nbsp;&lt;exit-interface&gt;<span style="color:#000000;font-weight:400">)</span></div></div><br /><br />There are two ways to to reach the destination network when configuring a static route: <br />   •  using <strong>neighbour ip address</strong> <br />   •  using <strong>exit interface</strong><br />   <br /><h2>• </h2><strong><h2>Using neighbour ip address(next gateway)</h2></strong><br />command to configure a static route if we know which is the <strong><span style="color:#0000ff;">next-hop-ip(gateway)</span></strong><span style="color:#0000ff;">:</span><br /><br /><strong>in Linux</strong> with iproute2 collection utilities<br /><div class="codebox"><div class="codebox">ip&nbsp;route&nbsp;add&nbsp;&lt;destination-network/destination-subnet-mask&gt;&nbsp;via&nbsp;<span style="color:#000000;font-weight:400">&lt;</span>next-hop-ip<span style="color:#000000;font-weight:400">&gt;</span></div></div><br />example on<strong> kali linux</strong>:<br />In this example we are adding to the operating system  a route for the 192.168.222.0/24  network and that the connections have to go through 10.175.34.1 gateway<br /><a href=""><img src="images/17-1.png" alt="images/17-1.png" /></a><br /><br /><strong><h3>Cisco routers</h3></strong><br />or in alternative with <strong>Cisco routers</strong> we can use the follofing command on Cisco IOS(Internetwork Operating System) cli(command line interface)<br /><div class="codebox"><div class="codebox">ip&nbsp;route&nbsp;&lt;destination-network&gt;&nbsp;&lt;destination-subnet-mask&gt;&nbsp;&lt;next-hop-ip&gt;&nbsp;<span style="color:#000000;font-weight:400">{</span>AD<span style="color:#000000;font-weight:400">}</span></div></div><br /><br />• In this way we configure a static route to send all the packets with destination network <strong>&lt;destination-network&gt;</strong> to  neighbour with ip address <strong>&lt;next-hop-ip&gt;</strong> <br />   The <span style="text-decoration:underline;">“default gateway”</span> is the router on your LAN which has the responsibility of being the first point of contact for traffic to computers outside the LAN.<br />• Administrative Distance(<strong>AD</strong>) is set for <span style="text-decoration:underline;">default</span> for <strong>neighbour ip address</strong> static route at <strong>1</strong><br />    for cisco routers there are different default <strong>administrative distances</strong>(ADs) for various <span style="text-decoration:underline;">routing protocol</span>, Route with the lowest <strong>AD</strong> value will be chosen while forwarding a packet. <br />   If you have used next hop neighbor IP address, then the default AD value will be <strong>1</strong>. If you have used <strong>exit interface</strong>, then the default AD value will be <strong>0</strong>.<br />   This parameter(<strong>AD</strong>) allows us to create multiple static routes for the same destination. For example we can create primary and backup path for the destination network. To create backup path, we need to set <strong>AD</strong> value to higher than default, such as 2 or 3. With this configuration router will use primary path. Due to some reason if primary route fails, the router will start using backup route automatically.<br />      <table class="table"><tr><th>Routing protocol</th><th>Administrative distance(AD)</th></tr><tr><td>Directly connected interface</td><td>0</td></tr><tr><td>Static route out an interface</td><td>1</td></tr><tr><td>Enhanced Interior Gateway Routing Protocol (EIGRP) summary route</td><td>5</td></tr><tr><td>External Border Gateway Protocol (BGP)</td><td>20</td></tr></table><br /><br />• <strong><h3>Using exit interface</h3></strong><br />An <strong>exit interface</strong> can be a:<br />   •  ethernet link<br />   •  serial link<br />Interfaces are named by slot/type:<br />   •  ethernet0 can be abbreviated eth0 or e0<br />   •  Serial0/0  can be abbreviated ser0/0 or s0/0<br />   <br />we can configure the static route to use our router <strong>exit</strong> <strong>interface</strong>(output device), It tells router that if it receives a packet for the destination specified by previous parameter then exits that packet from this interface. Device attached on other end of this interface will take care of the packet.<br />in<strong> Linux</strong>:<br /><div class="codebox"><div class="codebox">ip&nbsp;route&nbsp;add&nbsp;&lt;destination-network/destination-subnet-mask&gt;&nbsp;dev&nbsp;<span style="color:#000000;font-weight:400">&lt;</span>exit-interface<span style="color:#000000;font-weight:400">&gt;</span></div></div><br /><br />or in <strong>Cisco routers </strong>with Cisco IOS command line:<br /><div class="codebox"><div class="codebox">ip&nbsp;route&nbsp;&lt;destination-network&gt;&nbsp;&lt;destination-subnet-mask&gt;&nbsp;&lt;exit-interface&gt;&nbsp;<span style="color:#000000;font-weight:400">{</span>AD<span style="color:#000000;font-weight:400">}</span></div></div><br />• In this way we configure a static route to send all the packets with destination network <strong>&lt;destination-network&gt;</strong> out of the interface <strong>&lt;exit-interface&gt;</strong>  on the router<br />• Administrative Distance(<strong>AD</strong>) is set for <span style="text-decoration:underline;">default</span> for <strong>exit interface</strong> static route at <strong>0</strong><br /><br /><br /><br /><strong><h2>Setting a default static route </h2></strong><br /><div class="codebox"><div class="codebox">ip&nbsp;route&nbsp;add&nbsp;default&nbsp;via&nbsp;&lt;next-hop-ip&gt;&nbsp;dev&nbsp;<span style="color:#000000;font-weight:400">&lt;</span>exit-interface<span style="color:#000000;font-weight:400">&gt;</span></div></div><br />Adds a default route (for all destination addresses) via the <strong>next-hop-ip</strong> that can be reached on device <strong>exit-interface</strong>.<br /><br /><br /><em>informations</em> <em>from youtube channel: &quot;External Services&quot;</em><br /><br /></div>
</body>
</html>
