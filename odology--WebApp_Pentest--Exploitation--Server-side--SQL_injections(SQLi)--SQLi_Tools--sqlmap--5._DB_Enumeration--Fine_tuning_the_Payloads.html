<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>Fine tuning the Payloads</title>
    <meta name="generator" content="CherryTree" />
    <link rel="stylesheet" href="res/styles3.css" type="text/css" />
  </head>
  <body>
    <div class="page">
      <h1 class="title">Fine tuning the Payloads</h1>
      <br /><br /><strong>Specify the DB</strong><br />--dbms=&lt;DB&gt; → If we
      already know (or have a good guess) about the backend DB, we can inform
      sqlmap.
      <span style="text-decoration: underline"
        >This shorten the detection phase and its detectability</span
      >. The DBMSs we can specify are(<a
        href="https://github.com/sqlmapproject/sqlmap/wiki/Usage#force-the-dbms" target="_blank"
        >see also the documentation</a
      >): MySQL, Oracle, PostgreSQL, Microsoft SQL Server, Microsoft
      Access,SQLite, Firebird, Sybase, SAP MaxDB, DB2<br /><br /><strong
        >Prefix and Suffix for payloads</strong
      ><br />Sometimes in a SQLi payload we need to insert some characters to
      make the query syntactically correct. <br /><span style="color: #a5452a"
        >example</span
      >: in a structured POST parameter like a JSON<br />
      --prefix “<span style="color: #ff8700">characters-here</span>” → to start
      the payload with <span style="color: #ff8700">characters-here</span><br />
      --suffix “<span style="color: #ff8700">characters-here</span>” → to end
      the payload with <span style="color: #ff8700">characters-here</span
      ><br /><br /><br /><strong>Headers input fields</strong><br />--level
      [numberLevel]<br />
      SQLi with Sqlmap can be performed on any client- side input field by
      specifying the level. See the code
      <a
        href="https://github.com/sqlmapproject/sqlmap/blob/master/lib/controller/controller.py#L474" target="_blank"
        >here</a
      ><br />
      ◇ 1 → tests GET and POST parameters (DEFAULT)<br />
      ◇ 2 → + Cookie header<br />
      ◇ 3 → + User-Agent header + Referrer header<br />
      ◇ 5 → + Host header<br />
      <span style="text-decoration: underline">Note:</span> if we manually set
      the testable parameter(s) with the <em>-p [testParameter]</em> switch,
      sqlmap will not take into consideriation the
      <em>level</em> switch.<br /><br /><strong>Aggressiveness</strong>
      <br />The --risk parameter lets you fine-tune how dangerous your
      injections can be. See code
      <a
        href="https://github.com/sqlmapproject/sqlmap/blob/9a6acd205405c85fb67075b7749707056bd69e13/lib/core/option.py#L2213" target="_blank"
        >here</a
      >(level risk) and
      <a
        href="https://github.com/sqlmapproject/sqlmap/blob/0896a49500c6fae297922d7d3e556bd5e71e08f8/lib/core/enums.py#L353" target="_blank"
        >here</a
      >(class WIZARD)<br />
      ◇ 0 → No risk<br />
      ◇ 1 → innocuous injections (DEFAULT)<br />
      ◇ 2 → Enables heavy time-based injections<br />
      ◇ 3 → Enables OR-based injections<br /><br /><strong
        >Dump data speed up </strong
      ><br />• --keep-alive<br />
      SQLi injections can take a long time to dump the data. This time can be
      reduced by using persistent connection to the target by using the
      --keep-alive command line switch.<br />
      <div class="codebox">
        <div class="codebox">
          sqlmap&nbsp;-u&nbsp;&lt;target&gt;&nbsp;--keep-alive&nbsp;<span
            style="color: #000000; font-weight: 400"
            >&lt;</span
          >other&nbsp;commands<span style="color: #000000; font-weight: 400"
            >&gt;</span
          >
        </div>
      </div>
      <br />• --threads [number-of-threads]<br />
      We can reduce the dumping phase time by using parallel threads. We can
      select the number of threads from 1 to 10<br />
      <span style="color: #a5452a">example:</span> use 6 threads<br />
      <div class="codebox">
        <div class="codebox">
          sqlmap&nbsp;-u&nbsp;&lt;target&gt;&nbsp;--technique=B&nbsp;--threads&nbsp;6&nbsp;<span
            style="color: #000000; font-weight: 400"
            >&lt;</span
          >other&nbsp;commands<span style="color: #000000; font-weight: 400"
            >&gt;</span
          >
        </div>
      </div>
      <br />
      <br /><br />
    </div>
  </body>
</html>
