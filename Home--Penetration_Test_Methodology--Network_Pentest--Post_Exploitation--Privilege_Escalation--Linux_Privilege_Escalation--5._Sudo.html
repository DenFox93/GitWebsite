<!doctype html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>5. Sudo</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="res/styles3.css" type="text/css" />
</head>
<body>
<div class='page'><h1 class='title'>5. Sudo</h1><br/><strong>sudo</strong> is a program which lets users run other programs with the security privileges of other users. By default, that other user will be root.<br />A user generally needs to enter their password to use sudo, they must be permitted access via rule(s) in the /etc/sudoers file.<br /><br /><span style="color:#ff0000;">To check sudoers file we need to be already root</span><br />Rules can be used to limit users to certain programs, and forgo the password entry requirement.<br /><div class="codebox"><div class="codebox">root@debian:~$&nbsp;cat&nbsp;/etc/sudoers&nbsp;&nbsp;&nbsp;&nbsp;#only&nbsp;root</div></div><br />    <a href=""><img src="images/1295-1.png" alt="images/1295-1.png" /></a><br />    <br /><strong>Useful Commands</strong><br />• List programs a user is allowed (and disallowed) to run:<br />    <div class="codebox"><div class="codebox">target@debian:~$&nbsp;sudo&nbsp;-l</div></div><br />    <a href=""><img src="images/1295-2.png" alt="images/1295-2.png" /></a><br /><br /><br />• Become root with root password, only if we know the password:<br />    <div class="codebox"><div class="codebox">target@debian:~$&nbsp;su&nbsp;&nbsp;&nbsp;#su&nbsp;==&nbsp;switch&nbsp;user</div></div><br />• Run a program using sudo:<br />    <div class="codebox"><div class="codebox">target@debian:~$&nbsp;sudo&nbsp;<span style="color:#000000;font-weight:400">&lt;</span>program<span style="color:#000000;font-weight:400">&gt;</span></div></div><br />   ◇ Become root with actual user password, this user must be in the sudoers file (or a group that is in the sudoers file).<br />       <div class="codebox"><div class="codebox">target@debian:~$&nbsp;sudo&nbsp;su<br />&nbsp;&nbsp;&nbsp;&nbsp;#below,&nbsp;alternative&nbsp;methods&nbsp;if&nbsp;su&nbsp;program&nbsp;is&nbsp;not&nbsp;allowed<br />target@debian:~$&nbsp;sudo&nbsp;-s<br />target@debian:~$&nbsp;sudo&nbsp;/bin/bash<br />target@debian:~$&nbsp;sudo&nbsp;passwd</div></div><br />• Run a program as a specific user:<br />    <div class="codebox"><div class="codebox">target@debian:~$&nbsp;sudo&nbsp;–u&nbsp;&lt;username&gt;&nbsp;<span style="color:#000000;font-weight:400">&lt;</span>program<span style="color:#000000;font-weight:400">&gt;</span></div></div><br />	<span style="color:#a52a2a;">example</span><br />	<a href=""><img src="images/1295-3.png" alt="images/1295-3.png" /></a><br />	<a href=""><img src="images/1295-4.png" alt="images/1295-4.png" /></a><br />	<br />Bibliography:<br />• Linux Privilege Escalation for OSCP &amp; Beyond!</div>
</body>
</html>
