<!doctype html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>FQDN reachabale by querying the internal DNS server</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="res/styles3.css" type="text/css" />
</head>
<body>
<div class='page'><h1 class='title'>FQDN reachabale by querying the internal DNS server</h1><br/><br /><strong><h3>Valid for Internal Networks</h3></strong><br />If we have find in the Internal Network a DNS server<br /><div class="codebox"><div class="codebox">nmap -sS -sU --source-port 53 -p53 -n &lt;netblock&gt; </div></div><br />an hostname (FQDN) could be reachable through this name server<br />    <br />    <br /><a href=""><img src="images/2074-1.png" alt="images/2074-1.png" /></a><br /><strong>Edit </strong><br />•  <span style="text-decoration:underline;">/etc/hosts</span><br />    It map hostnames to IP addresses<br />    Edit this file when we find an ip address of a machine that have Web Server active<br />    <a href=""><img src="images/2074-2.png" alt="images/2074-2.png" /></a><br />• <span style="text-decoration:underline;">/etc/resolv.conf</span><br />    <a href=""><img src="images/2074-3.png" alt="images/2074-3.png" /></a><br />   When we find a DNS inside the internal network, we should put its address in this file, above the others so it is queried first <br />      By placing this entry above the default nameserver our machine will use this one on the target host first, and then if that fails, use the default nameserver.<br />      By doing that we could resolve more domain names specific to the target host. <br />      This valid both when we are doing an Internal Penetration test and an external one on the WebApp.<br />    <br /><br /></div>
</body>
</html>
